\documentclass[english]{smfart}
\usepackage[francais,english]{babel} 
\usepackage{smfthm}
\usepackage{proof} 
\usepackage{amsmath}
\usepackage{amsfonts}
 

\usepackage[utf8]{inputenc} \usepackage[T1]{fontenc} 

\theoremstyle{plain} 

\newtheorem{theorem}{Theorem}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}

\author{Richard Moot}
\address{CNRS, LaBRI, Bordeaux}
\email{richard.moot@labri.fr}
\urladdr{http://www.labri.fr/perso/moot} 

\author{Christian RetorÃ©}
\address{UniversitÃ© de Montpellier \& Texte/LIRMM-CNRS}
\email{christian.retore@umontpellier.fr}
\urladdr{http://www.lirmm.fr/~retore}

\title[Classical logic and intuitionistic logic]{Classical logic and intuitionistic logic: equivalent formulations in natural deduction,  
GÃ¶del-Kolmogorov-Glivenko translation}

\alttitle{Logique classique et intuitionniste: formulatiosn Ã©quivalentes en dÃ©duction naturelle, traduction de G\"odel-Kolmogorov-Glivenko}

\begin{document} 

\frontmatter
\begin{abstract}
This report first shows the equivalence between several
  formulations of classical logic in intuitionistic logic (tertium non datur, reductio ad absurdum, Pierce's law). 
Then it establishes the correctness of the G\"odel-Kolmogorov translation, whose restriction to the propositional case is due to  Glivenko.  This translation maps a formula $F$ of first order logic to a formula $F^{\lnot\lnot}$ in such a way that $F$ is provable in classical logic if and only if $F^{\lnot\lnot}$ is provable in intuitionistic logic. All formal proofs are presented in natural deduction. 

These questions are well-known proof theoretical  facts, but in textbooks, they are often ignored or left to the reader. 
Because of the combinatorial difficulty of some of the  needed formal proofs, we hope that this report may be useful, in particular to students and colleagues from other areas. \end{abstract}
\begin{altabstract}
Ce rapport commence par Ã©tablir l'Ã©quivalence entre diverses formulation de la logique classique (tiers exclu, raisonnement par l'absurde, loi de Pierce) en logique intuitionniste. Nous  montrons ensuite la correction de la traduction de G\"odel-Kolmogorov, dont la restriction au cas propositionnel est due Ã  Glivenko.  Cette traduction associe Ã  toute formule $F$ de la logique du premier ordre une formule $F^{\lnot\lnot}$ 
telle que $F$ est dÃ©montrable en logique classique si et seulement si $F^{\lnot\lnot}$  est dÃ©montrable en logique intuitionniste. Toutes les preuves formelles sont prÃ©sentÃ©es en dÃ©duction naturelle. 

Ces rÃ©sultats de thÃ©orie de la dÃ©monstration sont bien connus, mais dans les ouvrages oÃ¹ ils sont mentionnÃ©s, leurs dÃ©monstrations sont souvent laissÃ©es en exercice au lecteur. Vue la difficultÃ© combinatoire de certains des cas  de ces dÃ©monstrations, nous pensons que ce rapport pourra Ãªtre utile aux Ã©tudiants et aux collÃ¨gues d'autres domaines. 
\end{altabstract}
\subjclass{03B20, 03F03,}
\keywords{logic, proof theory, classical logic, intuitionistic logic, natural deduction} 
\altkeywords{logique, thÃ©orie de la dÃ©monstration, logique classique, logique intuitionniste, dÃ©duction naturelle}

\maketitle

\mainmatter

\section{Foreword and references}

The results in here are not new, 
but it is hard to tell where they are properly written down and published.
They are often left as exercices to the reader. These are exercices 
on the combinatorics of proofs, but some of the cases are not that easy 
for people who are new to proof theory, especially students (though we
encourage everyone to try these proofs themselves). 

Natural deduction is a tree-like framework for formal proofs which is naturally intuitionistic. 
This  tree-like formulation  was introduced in
\cite{Pra65}, where NJ \cite{Gen34,Gen34b} is reformulated  in terms of pseudo-trees. 
More modern references include \cite{GLT88,vanDalen2013}. 

The translation of a formula $F$  into a formula $F^{\lnot\lnot}$
which is intituitonistically provable if and only if $F$ is classically provable is due to 
\cite{Glivenko29} (in French) 
for the propositional case and to 
\cite{Kolmogorov1925} (in Russian, summary in French, in English in \cite{Frege2Goedel1967}) 
and 
\cite{Goedel1933HA,Goedel33nonnon} (in German) 
for the first order case. 

The equivalence of the various formulations of classical logic in intuitionistic logic (tertium no datur, 
reductio ad absurdum, Pierce law) can be found here and there e.g.\ in 
\cite{RasiowaSikorski1963,TD88,Mints2000}

\section{Natural deduction rules}

Let us recall the natural deduction rules that we use throughout this report. 

A proof is a tree plus additional information: 
\begin{itemize} 
\item the nodes are formul\ae\ 
\item the root is the conclusion of the proof
\item the leaves are the hypothesis which can be:
\begin{itemize} 
\item cancelled or discharged (if so, they are between square brackets)
\item free (nothing particular)
\end{itemize}
\item every branch (unary, binary or ternary)  is labelled by a rule name. 
\item some branches (named $\rightarrow_e,\lor_e,\exists_e$)  include an index which also appears on the hypotheses which are cancelled during the application of the rule. 
\end{itemize} 

If the multiset of free hypotheses of a proof $d$ is $\Gamma$ and the conclusion of $d$ is $C$, then $d$ is a proof of $\Gamma{\vdash} C$ that is a proof of $C$ under the (conjunction of the) assumptions $\Gamma$. 

If a rule says that  $H$ is cancellable in $d$ then any number of free occurrences of $H$ can be cancelled (one also says  discharged).
The cancelled hypotheses and the rule receive a fresh new index that encodes this fact (as this information is not recoverable from the proof tree,
this is why natural deductions are more than trees). 

$$
\begin{array}{p{11.8ex}|rc|cl}
&\mbox{Introduction rules} & && \mbox{Elimination rules} \\[1ex] \hline &&&& \\  
Implication
&
\infer[\rightarrow_i\alpha]{A\rightarrow B}{\infer*{B}{A \Gamma [A]^{\alpha} \Delta [A]^{\alpha}}}
& & &
\infer[{\rightarrow_e}]{B}
{A & A\rightarrow B}\\[1ex] 
& 
\begin{minipage}{3cm}\it $A$ cancellable. 
\end{minipage} 
&&& \\[1ex] \hline &&&& \\  
Conjunction
&
\infer[\land_i]{A \land B}{A & B} 
&&&
\infer[\land_e^1]{A}{A\land B}
\quad 
\infer[\land_e^2]{B}{A\land B}
\\[1ex] \hline &&&& \\  
Falsum  & 
&&& 
\infer[\scriptstyle{\bot}]
{C}{\bot}
\\[1ex] 
&&&&\begin{minipage}{5cm}\it 
\emph{ex falso quod libet sequitur} 
\end{minipage} 
\\[1ex] \hline &&&& \\ 
\mbox{Disjunction} 
&
\infer[\lor_i^1]{A\lor B}{A} 
\quad 
\infer[\lor_i^2]{A\lor B}{B} 
&&&
\infer[{\lor_e \alpha}]{C}{
\infer*{A\lor B}{\Theta}
& \infer*[d_1]{C}{A \Gamma [A]^{\alpha} \Delta [A]^{\alpha}}
& \infer*[d_2]{C}{B \Theta [B]^{\alpha} \Phi [B]^{\alpha}}}
\\[1ex] 
&&&&\begin{minipage}{5cm}\it 
$A$  cancellable in $d_1$, $B$ in  $d_2$. 
\end{minipage} \\ \hline  
\end{array}
$$ 

$$
\begin{array}{p{2cm}|cc|cc}
&\mbox{Introduction rules} & && \mbox{Elimination rules} \\[1ex] \hline &&&& \\  
Existential\newline  quantifier
&
\infer
[\exists_i]
{\exists x A(x)} 
{A(t)}
&&&
\infer[{\exists_e \alpha}] 
{C}{\infer*{\exists x A(x)}{\Theta}  
&
\infer*{C}{A(u) \Gamma [A(x)]^{\alpha} \Delta [A(x)]^{\alpha}} 
}
\\[1ex] 
&&&&
\begin{minipage}{5cm}\it Afterwards, no free $x$ in $C$ nor in any free hypothesis. 
\end{minipage} 
\\ &&&& \\  \hline  &&&& \\ 
Universal\newline  quantifier
& 
\infer[{\forall_i}]{\forall x A(x)} 
{\infer*{A(x}{\Gamma}}
&&&
\infer[{\forall_e}]
{A(t)}{\forall x A(x)}
\\[1ex] 
& \begin{minipage}{2.5cm}\it No free $x$ in $\Gamma$. \end{minipage} &&&
\\ &&&& \\  \hline 
\end{array} 
$$ 

\normalsize

Natural deduction is ``naturally intuitionistic'': formul\ae\  like $\lnot\lnot A \rightarrow A$ or $(\lnot X)\lor X$ are not provable. 
It is equivalent to other formulations of intuitionistic logic like
the sequent calculus  with many hypothesis and one conclusion. 

There are no rules for negation $\lnot X$, which is treated as a shorthand for  $X\rightarrow \bot$: 
$$\lnot X \equiv^{\textit{def}} X \rightarrow \bot$$ For convenience, we
will sometimes write the negation rules as follows.

\[
\begin{array}{ccc}
\infer[\lnot_i\alpha]{\lnot A}{\infer*{\bot}{A\Gamma[A]^{\alpha}
\Delta[A]^{\alpha}}}
&&
\infer[\lnot_e]{\bot}{A & \lnot A}
\end{array}
\]

The reader can easily verify that given $\lnot A \equiv^{\textit{def}}
A \rightarrow \bot$, these are just instances of $\rightarrow_e$ and
$\rightarrow_i$ where the subformula $B$ of the $\rightarrow${} rules is $\bot$.

\section{Three formulations of classical logic} 

To obtain a natural deduction calculus for classical logic, one has to
add a family of proper axioms (i.e.\ axioms other than $A$, that is
$A{\vdash} A$, which unfortunately complicates normalisation and the proof of the subformula property). 

$$
\begin{array}{p{4cm}cp{4cm}}
Tertium Non Datur & \infer{A \lor \lnot A}{tnd} & for all formula $A$\\ 
&\\ 
Reductio Ad Absurdum & \infer{\lnot \lnot A \rightarrow A}{raa}& for all formula $A$\\ 
&\\ 
Pierce law & \infer{((P\rightarrow Q)\rightarrow P)\rightarrow P}{Pierce} & for all formul\ae\  $P$ and $Q$
\end{array}
$$

RAA can also be expressed as rule cancelling several occurrences of $\lnot A$. 
\[
\infer[raa'\alpha]{A}
{\infer*{\bot}{\lnot A \Gamma [\lnot A]^{\alpha} \Delta [\lnot A]^{\alpha}}}
\]

$raa'$ is clearly equivalent to the axiom $raa$ given above: 
using the invertible rule  $\rightarrow_i$ one obtains $\lnot\lnot A$ 
and then obtains $A$ by $raa$ above, as follows. 

\[
\infer[\rightarrow_e]{A}{\infer[\rightarrow_i\alpha]{\lnot\lnot A}
{\infer*{\bot}{\lnot A \Gamma [\lnot A]^{\alpha} \Delta [\lnot
    A]^{\alpha}}} & \infer[raa]{\lnot\lnot\ A \rightarrow A}{}}
\]

Given $raa'$, $raa$ becomes derivable as follows.

\[
\infer[\rightarrow_i(2)]{\lnot\lnot A \rightarrow
  A}{\infer[raa'(1)]{A}{\infer{\bot}{[\lnot\lnot A]^2 [\lnot A]^1}}}
\]

\section{Equivalence of the three formulations of classical logic in intuitionistic logic} 

\subsection{Reductio ad Absurdum entails Tertium Non Datur} 

$$
\infer[{\rightarrow_e}] 
{a\lor \lnot a} 
{
\infer[{\rightarrow_i \scriptstyle{3}}]{\lnot\lnot (a\lor \lnot a)}
{\infer[{\rightarrow_e}] {\bot} 
{{
\infer[{\rightarrow_i \scriptstyle{2}}]{\lnot a} 
{\infer[{\rightarrow_e}]
{\bot} 
{[\lnot(a\lor \lnot a)]^3 
& \infer[{\lor_i^1}]{a\lor \lnot a} {[a]^2} 
}}} & {
\infer[{\rightarrow_i \scriptstyle{1}}]
{\lnot \lnot a} 
{\infer[{\rightarrow_e}]{\bot}{[\lnot(a\lor \lnot a)]^3 & \infer[{\lor_i^2}]{a\lor \lnot a}{[\lnot a]^1}}}
}}}
&\hspace*{-5ex}  \infer{\lnot\lnot (a\lor \lnot a)\rightarrow (a\lor \lnot a)}{raa}
}
$$

\subsection{Tertium Non Datur entails Pierce law} 

 

$$
\infer[\lor_e \scriptstyle{3}]{((p\rightarrow q)\rightarrow p)\rightarrow p}
{\infer{p\lor \lnot p}{tnd} & {
\infer[\rightarrow_i]{((p\rightarrow q)\rightarrow p) \rightarrow p}{[p]^3}
} & {
\infer[\rightarrow_i \scriptstyle{2}]{((p\rightarrow q)\rightarrow p)\rightarrow p}{
\infer[{\rightarrow_e \scriptstyle{2}}]{p}{ {
\infer[{\rightarrow_i \scriptstyle{1}}]
{p\rightarrow q}
{\infer[\scriptstyle{\bot}]{q}{\infer[{\rightarrow_e}]{\bot}{{[p]^1} & {[\lnot p]^3}}}}
} & {[(p\rightarrow q)\rightarrow p]^2}  }
}
}} 
$$

\subsection{Pierce law entails Reductio ad Absurdum} 

$$
\infer[{\rightarrow_i \scriptstyle{2}}]{\lnot\lnot P \rightarrow P}
{\infer[{\rightarrow_e}]{P}{\infer{(\lnot P \rightarrow P)\rightarrow P}{Pierce\ avec\ Q=\bot} & {
\infer[{\rightarrow_i \scriptstyle{1}}]{\lnot P \rightarrow P}{\infer[{\scriptstyle{\bot}}]{P}{\infer[\rightarrow_e]{\bot}{[\lnot \lnot P]^2 & [\lnot P]^1}}}
}}}
$$

\section{The G\"odel-Kolmogorov translation}

The not-not translation $F{^{\lnot\lnot}}$ of a formula $F$ is inductively defined as follows: 

\begin{center} 
\begin{tabular}{r@{\,=\,}l}
$\bot{^{\lnot\lnot}}$ & $\bot$ \\
$a{^{\lnot\lnot}}$ & $\lnot\lnot a$ \\[2mm]

$(A \land B){^{\lnot\lnot}}$ & $A{^{\lnot\lnot}} \land B{^{\lnot\lnot}}$ \\ 
$(A \rightarrow B){^{\lnot\lnot}}$ & $A{^{\lnot\lnot}} \rightarrow B{^{\lnot\lnot}}$ \\
$(\forall x. A){^{\lnot\lnot}}$ & $\forall x. A{^{\lnot\lnot}}$ \\[2mm]

$(A \lor B){^{\lnot\lnot}}$ & $\lnot\lnot(A{^{\lnot\lnot}} \lor B{^{\lnot\lnot}})$ \\
$(\exists x. A){^{\lnot\lnot}}$ & $\lnot\lnot \exists x. A{^{\lnot\lnot}}$ \\
\end{tabular}
\end{center} 

{\mbox{\textsc{nj}}}\  stands for plain natural deduction, which is intuitionistic. 

{\mbox{\textsc{nk}}}\ stands for classical natural deduction, that is {\mbox{\textsc{nj}}}\ enriched by
one of the families of axioms given above (or all of them, since they are equivalent):  tertium non datur, reductio ad absurdum or Pierce law. 

Since $\bot{^{\lnot\lnot}}=\bot$ and $\lnot A=(A\rightarrow \bot)$, the definition of the not not translation of an implicative formula yields the following remark: 

\begin{remark} 
$(\lnot A){^{\lnot\lnot}}=\lnot(A{^{\lnot\lnot}})$. 
\end{remark} 

\begin{proposition}\label{nnnAyieldsnA} 
$\lnot\lnot\lnot A{\vdash}^{\mbox{\textsc{nj}}} \lnot A$
\end{proposition}

\begin{proof} Here is the natural deduction proof of it: 
$$ 
\infer[\lnot_i(2)]{\lnot A}{
   \infer[\lnot_e]{\bot}{
      \lnot\lnot\lnot A 
    & \infer[\lnot_i(1)]{\lnot\lnot A}{
          \infer[\lnot_e]{\bot}{
             [A]^2 
           & [\lnot A]^1
          }
       }
   }
}
$$
\end{proof} 

\begin{lemma}
 $\lnot\lnot F{^{\lnot\lnot}}{\vdash}^{\mbox{\textsc{nj}}} F{^{\lnot\lnot}}$
\label{lemme} 
\end{lemma} 

\begin{proof}
We proceed by induction on $F$. 

\begin{enumerate}
\item If $F=\bot$ one has to show that  $\lnot\lnot \bot {\vdash} \bot$: 

$$\infer[\lnot_e]{\bot}{
   \lnot\lnot \bot
 & \infer[\lnot_i(1)]{\lnot \bot}{    [\bot]^1   }
}
$$

\item If $F=a$ we have to show $\lnot\lnot\lnot\lnot at {\vdash}
  \lnot\lnot at$ which is a consequence of Proposition~\ref{nnnAyieldsnA} with $A=\lnot at$. 

\item  If $F=X\lor Y$ we have to show that $\lnot\lnot\lnot\lnot(X{^{\lnot\lnot}}
  \lor Y{^{\lnot\lnot}}) {\vdash} \lnot\lnot(X{^{\lnot\lnot}} \lor Y{^{\lnot\lnot}})$, which  is a consequence
  of Proposition~\ref{nnnAyieldsnA} with $A=\lnot(X{^{\lnot\lnot}} \lor Y{^{\lnot\lnot}})$. 

\item If $F=\exists x\ P$ one has to show that
  $\lnot\lnot\lnot\lnot(\exists x\ P{^{\lnot\lnot}}) {\vdash} \lnot\lnot(\exists x\ P)$ which  is a consequence of Proposition~\ref{nnnAyieldsnA} with $A=\lnot(\exists x\ P{^{\lnot\lnot}})$. 

\item If $F=A \rightarrow B$, one has to show that $ \lnot\lnot (A{^{\lnot\lnot}} \rightarrow B{^{\lnot\lnot}}){\vdash} (A{^{\lnot\lnot}} \rightarrow B{^{\lnot\lnot}})$.  The induction hypothesis (IH) makes sure that 
 $\lnot\lnot B{^{\lnot\lnot}} {\vdash} B{^{\lnot\lnot}}$: 

$$\infer[\rightarrow_i(3)]{A{^{\lnot\lnot}} \rightarrow B{^{\lnot\lnot}}}{
   \infer*[IH]{B{^{\lnot\lnot}}}{
      \infer[\lnot_i(2)]{\lnot\lnot B{^{\lnot\lnot}}}{
           \infer[\lnot_e]{\bot}{
              \lnot\lnot (A{^{\lnot\lnot}} \rightarrow B{^{\lnot\lnot}})
            & \infer[\lnot_i(1)]{\lnot (A{^{\lnot\lnot}} \rightarrow B{^{\lnot\lnot}})}{
                 \infer[\lnot_e]{\bot}{
                    \infer[\rightarrow_e]{B{^{\lnot\lnot}}}{
                       [A{^{\lnot\lnot}}]^3
                     & [A{^{\lnot\lnot}} \rightarrow B{^{\lnot\lnot}}]^1
                    }
                  & [\lnot B{^{\lnot\lnot}}]^2
                 }
              }
          }
      }
   }
}
$$

\item If $F=A \land B$, one has to show that $ \lnot\lnot (A{^{\lnot\lnot}} \land B{^{\lnot\lnot}}){\vdash} (A{^{\lnot\lnot}} \land B{^{\lnot\lnot}})$ and because of the induction hypothesis (IH) we can assume that 
$\lnot\lnot A{^{\lnot\lnot}} {\vdash} A{^{\lnot\lnot}}$ and $\lnot\lnot B{^{\lnot\lnot}} {\vdash} B{^{\lnot\lnot}}$. 

$$   \infer*[IH]{A{^{\lnot\lnot}}}{
      \infer[\lnot_i(2)]{\lnot\lnot A{^{\lnot\lnot}}}{
          \infer[\lnot_e]{\bot}{
             \infer[\lnot_i(1)]{\lnot (A{^{\lnot\lnot}} \land B{^{\lnot\lnot}})}{
                \infer[\lnot_e]{\bot}{
                   \infer[\land_e]{A{^{\lnot\lnot}}}{[A{^{\lnot\lnot}} \land B{^{\lnot\lnot}}]^1}
                 & [\lnot A{^{\lnot\lnot}}]^2
                }
             }
           & \lnot\lnot (A{^{\lnot\lnot}} \land B{^{\lnot\lnot}})
          }
      }
   }
   $$
   
 
 \vspace{-5ex} 
 
$$\infer*[IH]{B{^{\lnot\lnot}}}{
      \infer[\lnot_i(4)]{\lnot\lnot B{^{\lnot\lnot}}}{
          \infer[\lnot_e]{\bot}{
             \infer[\lnot_i(3)]{\lnot (A{^{\lnot\lnot}} \land B{^{\lnot\lnot}})}{
                \infer[\lnot_e]{\bot}{
                   \infer[\land_e]{B{^{\lnot\lnot}}}{[A{^{\lnot\lnot}} \land B{^{\lnot\lnot}}]^3}
                 & [\lnot B{^{\lnot\lnot}}]^4
                }
             }
           & \lnot\lnot (A{^{\lnot\lnot}} \land B{^{\lnot\lnot}})
          }
      }
   }
   $$
  

\noindent From those two proofs, both with the single undischarged hypothesis\linebreak $\lnot\lnot (A{^{\lnot\lnot}} \land B{^{\lnot\lnot}})$, one easily gets $A{^{\lnot\lnot}} \land B{^{\lnot\lnot}}$ by the rule $\land_i$. \medskip 

\item If $F=\forall x\ A$
one has to show that $\lnot\lnot (\forall x\ A{^{\lnot\lnot}}){\vdash} (\forall x\ A{^{\lnot\lnot}})$ and the induction hypothesis (IH) guarantees  that
$\lnot\lnot A{^{\lnot\lnot}} {\vdash} A{^{\lnot\lnot}}$. 

$$
\infer[\forall_i]{\forall x. A{^{\lnot\lnot}}}{
   \infer*[IH]{A{^{\lnot\lnot}}}{
      \infer[\lnot_i(2)]{\lnot\lnot A{^{\lnot\lnot}}}{
         \infer[\lnot_e]{\bot}{
            \lnot\lnot \forall x.A{^{\lnot\lnot}}
          & \infer[\lnot_i(1)]{\lnot \forall x.A{^{\lnot\lnot}}}{
               \infer[\lnot_e]{\bot}{
                  \infer[\forall_e]{A{^{\lnot\lnot}}}{[\forall x. A{^{\lnot\lnot}}]^1}
                & [\lnot A{^{\lnot\lnot}}]^2
               }
            }
          }  
      }
   }
}
$$

\noindent Notice that the hypothesis  $[\lnot A{^{\lnot\lnot}}]^2$ is cancelled before the $\forall_i$ rule is applied. 
\end{enumerate} 
\end{proof} 

\begin{theorem}\label{goedel_kolmogorov} 
$\Gamma{^{\lnot\lnot}}{\vdash}^{\mbox{\textsc{nj}}} F{^{\lnot\lnot}}$ if and only if $\Gamma{\vdash}^{\mbox{\textsc{nk}}} F$. 
\end{theorem}

\subsection{If $\Gamma{^{\lnot\lnot}}{\vdash}^{\mbox{\textsc{nj}}} F{^{\lnot\lnot}}$ then $\Gamma{\vdash}^{\mbox{\textsc{nk}}} F$}

If $\Gamma{^{\lnot\lnot}}{\vdash}^{\mbox{\textsc{nj}}} F{^{\lnot\lnot}}$ is provable in {\mbox{\textsc{nj}}}, then it is also provable in 
 {\mbox{\textsc{nk}}}: indeed the rules of  {\mbox{\textsc{nj}}}{} are rules of  {\mbox{\textsc{nk}}}. 

Since  in  {\mbox{\textsc{nk}}}{} 
it possible to add and delete 
double negations, for every formula  $A$, both 
$A \vdash^{\mbox{\textsc{nk}}} A{^{\lnot\lnot}}$ and  $A{^{\lnot\lnot}}  \vdash^{\mbox{\textsc{nk}}} A$ hold, 
as an easy induction on the formula shows. 
Thus, a proof in {\mbox{\textsc{nk}}}{} can be constructed. 

\begin{center} 
\begin{tabular}{c@{$\quad\leadsto\quad$}c@{$\quad\leadsto\quad$}c}
\infer*[{\mbox{\textsc{nj}}}]{F{^{\lnot\lnot}}}{A_1{^{\lnot\lnot}} & \ldots & A_n{^{\lnot\lnot}}} &
\infer*[{\mbox{\textsc{nk}}}]{F{^{\lnot\lnot}}}{A_1{^{\lnot\lnot}} & \ldots & A_n{^{\lnot\lnot}}} &
\infer*[{\mbox{\textsc{nk}}}]{F}{\infer*[{\mbox{\textsc{nk}}}]{F{^{\lnot\lnot}}}{\infer*[{\mbox{\textsc{nk}}}]{A_1{^{\lnot\lnot}}}{A_1}\!\!\!\!\!\!\! & \ldots & \infer*[{\mbox{\textsc{nk}}}]{A_n{^{\lnot\lnot}}}{A_n}}} \\
\end{tabular}
\end{center} 

\subsection{If $\Gamma{\vdash}^{\mbox{\textsc{nk}}} F$ then $ \Gamma{^{\lnot\lnot}}{\vdash}^{\mbox{\textsc{nj}}} F{^{\lnot\lnot}}$}

We proceed by induction on the height of the proof in  {\mbox{\textsc{nk}}}. 
Observe that the obtained 
${\mbox{\textsc{nj}}}$ proof has the same occurences of free variables. 

\subsubsection{The height of the proof is  $0$ and the proof is an axiom  $A{\vdash}^{\mbox{\textsc{nk}}} A$}

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
$A$ & $A{^{\lnot\lnot}}$ \\
\end{tabular}
\end{center}

\subsubsection{The height of the proof is $0$  and it is an application tertium non datur  ${\vdash}^{\mbox{\textsc{nk}}} A\lor \lnot A$}

Remember that $(\lnot A){^{\lnot\lnot}}=\lnot(A{^{\lnot\lnot}})$ . 

$$
\infer[\lnot_i(2)]{\lnot\lnot (A{^{\lnot\lnot}} \lor \lnot A{^{\lnot\lnot}})}{
   \infer[\lnot_e]{\bot}{
      \infer[\lor_i]{A{^{\lnot\lnot}} \lor \lnot A{^{\lnot\lnot}}}{
         \infer[\lnot_i(1)]{\lnot A{^{\lnot\lnot}}}{
            \infer[\lnot_e]{\bot}{
               \infer[\lor_i]{A{^{\lnot\lnot}} \lor \lnot A{^{\lnot\lnot}}}{
                  [A{^{\lnot\lnot}}]^1
               }
            & [\lnot (A{^{\lnot\lnot}} \lor \lnot A{^{\lnot\lnot}})]^2
            }
         }
      }
    & [\lnot (A{^{\lnot\lnot}} \lor \lnot A{^{\lnot\lnot}})]^2
   }
}
$$

\subsubsection{The hight of the proof is  $0$ and it comes from  reductio ad absurdum ${\vdash}^{\mbox{\textsc{nk}}} (\lnot \lnot A)\rightarrow A$}

We have to show that ${\vdash} (\lnot\lnot A){^{\lnot\lnot}} \rightarrow A{^{\lnot\lnot}}$ but since $\lnot A=(A\rightarrow \bot)$ 
we know that  $(\lnot\lnot A){^{\lnot\lnot}}=\lnot\lnot A{^{\lnot\lnot}}$. We therefore have
to show that  ${\vdash} \lnot\lnot (A{^{\lnot\lnot}}) \rightarrow A{^{\lnot\lnot}}$, but this true by Lemma~\ref{lemme}. 

\subsubsection{The proof ends with $\bot_e$}

We apply the induction hypothesis  (IH) to the proof without this last rule, 
using the fact that  $\bot{^{\lnot\lnot}}=\bot$. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
 \infer[\bot_e]{A}{\infer*{\bot}{\Gamma}}
}
&
\mbox{
 \infer[\bot_e]{A{^{\lnot\lnot}}}{\infer*[IH]{\bot}{\Gamma{^{\lnot\lnot}}}}
}
\end{tabular}
\end{center}

\subsubsection{The proof ends with the rule  $\rightarrow_e$}

The induction hypothesis (IH) can be applied to the two proofs 
obtained by suppressing this last rule. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\rightarrow_e]{B}{\infer*{A}{\Gamma} & \infer*{A\rightarrow B}{\Delta}}
} &
\mbox{
\infer[\rightarrow_e]{B{^{\lnot\lnot}}}{\infer*[IH]{A{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}}} & \infer*[IH]{A{^{\lnot\lnot}}\rightarrow B{^{\lnot\lnot}}}{\Delta{^{\lnot\lnot}}}}
} 
\end{tabular}
\end{center}

\subsubsection{The last rule is  $\rightarrow_i$}

The induction hypothesis (IH) can be applied to the proof 
obtained by suppressing this last rule. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\rightarrow_i(k)]{A\rightarrow B}{\infer*{B}{\Gamma & [A]^k}}
} &
\mbox{
\infer[\rightarrow_i(k)]{A{^{\lnot\lnot}}\rightarrow B{^{\lnot\lnot}}}{\infer*[IH]{B{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}} & [A{^{\lnot\lnot}}]^k}}
}
\end{tabular}
\end{center}

\subsubsection{The last rule is  $\land_e$}

The induction hypothesis (IH) can be applied to the proof 
obtained by suppressing this last rule. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\land_e]{A}{\infer*{A\land B}{\Gamma}}
} &
\mbox{
\infer[\land_e]{A{^{\lnot\lnot}}}{\infer*[IH]{A{^{\lnot\lnot}} \land B{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}}}}
} 
\end{tabular}
\end{center}

\subsubsection{The last rule is $\land_i$}

The induction hypothesis (IH) can be applied to the two proofs 
obtained by suppressing this last rule. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\land_i]{A\land B}{\infer*{A}{\Gamma} & \infer*{B}{\Delta}}
}
&
\mbox{
\infer[\land_i]{A{^{\lnot\lnot}}\land B{^{\lnot\lnot}}}{\infer*[IH]{A{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}}} & \infer*[IH]{B{^{\lnot\lnot}}}{\Delta{^{\lnot\lnot}}}}
}
\end{tabular}
\end{center}

\subsubsection{The last rule is  $\lor_e$}

The induction hypothesis (IH) can be applied to the three proofs 
obtained by suppressing this last rule. 
We use Lemma~\ref{lemme}. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\lor_e]{C}{\infer*{A\lor B}{\Gamma} & \infer*{C}{\Delta & [A]^k} & \infer*{C}{\Theta & [B]^k}}
}
& \\[6mm]
\multicolumn{2}{c}{
\mbox{
\infer*[\textit{Lemma}~\ref{lemme}]{C{^{\lnot\lnot}}}{
\infer[\lnot_i(m)]{\lnot\lnot C{^{\lnot\lnot}}}{
\infer[\lnot_e]{\bot}{
\infer[\lnot_i(l)]{\lnot(A{^{\lnot\lnot}} \lor B{^{\lnot\lnot}})}{
\infer[\lnot_e]{\bot}{
    \infer[\lor_e]{C{^{\lnot\lnot}}}{[A{^{\lnot\lnot}}\lor B{^{\lnot\lnot}}]^l & \infer*[IH]{C{^{\lnot\lnot}}}{\Delta{^{\lnot\lnot}} & [A{^{\lnot\lnot}}]^k} & \infer*[IH]{C{^{\lnot\lnot}}}{\Theta{^{\lnot\lnot}} & [B{^{\lnot\lnot}}]^k}}
 &  [\lnot C{^{\lnot\lnot}}]^m
}} &
\infer*[IH]{\lnot\lnot(A{^{\lnot\lnot}}\lor B{^{\lnot\lnot}})}{\Gamma{^{\lnot\lnot}}}
}}}
}}
\end{tabular}
\end{center}

\subsubsection{The last rule is $\lor_i$}

The induction hypothesis (IH) can be applied to the proof 
obtained by suppressing this last rule. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\lor_i]{A\lor B}{\infer*{A}{\Gamma}}
}
&
\mbox{
\infer[\lnot_i(l)]{\lnot\lnot (A{^{\lnot\lnot}}\lor B{^{\lnot\lnot}})}{
  \infer[\lnot_e]{\bot}{
   \infer[\lor_i]{A{^{\lnot\lnot}}\lor B{^{\lnot\lnot}}}{\infer*[IH]{A{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}}}}
 & [\lnot (A{^{\lnot\lnot}}\lor B{^{\lnot\lnot}})]^l
}}}
\end{tabular}
\end{center}

\subsubsection{The last rule is $\forall_e$}

The induction hypothesis (IH) can be applied to the proof 
obtained by suppressing this last rule. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\forall_e]{A[x:=t]}{\infer*{\forall x. A}{\Gamma}}
} &
\mbox{
\infer[\forall_e]{A[x:=t]{^{\lnot\lnot}}}{\infer*[IH]{\forall x. A{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}}}}
} 
\end{tabular}
\end{center}

\subsubsection{The last rule is  $\forall_i$}

The induction hypothesis (IH) can be applied to the proof 
obtained by suppressing this last rule. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\forall_i]{\forall x.A}{\infer*{A}{\Gamma}}
}
&
\mbox{
\infer[\forall_i]{\forall x.A{^{\lnot\lnot}}}{\infer*[IH]{A{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}}}}
}
\end{tabular}
\end{center}

\subsubsection{The last rule is  $\exists_e$}

The induction hypothesis (IH) can be applied to the two proofs 
obtained by suppressing this last rule. 
We use Lemma~\ref{lemme}. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\exists_e(k)]{C}{\infer*{\exists x. A}{\Gamma} & \infer*{C}{\Delta &[A]^k}}
} &
\mbox{
\infer*[\textit{Lemma}~\ref{lemme}]{C{^{\lnot\lnot}}}{
\infer[\lnot_i(m)]{\lnot\lnot C{^{\lnot\lnot}}}{
   \infer[\lnot_e]{\bot}{
     \infer[\lnot_i(l)]{\lnot \exists x. A{^{\lnot\lnot}}}{ 
        \infer[\lnot_e]{\bot}{
           \infer[\exists_e(k)]{C{^{\lnot\lnot}}}{
               [\exists x. A{^{\lnot\lnot}}]^l 
             & \infer*[IH]{C{^{\lnot\lnot}}}{
                  \Delta{^{\lnot\lnot}} 
                & [A{^{\lnot\lnot}}]^k
               }
           }
      & [\lnot C]^m
        }
     }
   & \infer*[IH]{\lnot\lnot \exists x. A{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}}}
  }
}
}}
\end{tabular}
\end{center}

\subsubsection{The last rule is $\exists_i$}

The induction hypothesis (IH) can be applied to the proof 
obtained by suppressing this last rule. 

\begin{center}
\begin{tabular}{c@{$\quad\leadsto\quad$}c}
\mbox{
\infer[\exists_i]{\exists x.A}{\infer*{A[x:=t]}{\Gamma}}
} &
\mbox{
\infer[\lnot_i(l)]{\lnot\lnot\exists x.A{^{\lnot\lnot}}}{
   \infer[\lnot_e]{\bot}{
       \infer[\exists_i]{\exists
         x.A{^{\lnot\lnot}}}{\infer*[IH]{A[x:=t]{^{\lnot\lnot}}}{\Gamma{^{\lnot\lnot}}}}
     & [\lnot \exists x. A{^{\lnot\lnot}}]
   }}} \\
\end{tabular}
\end{center}

\backmatter 

\bibliographystyle{smfplain}
\bibliography{bigbiblio} 
\end{document} 

