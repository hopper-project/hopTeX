\documentclass[12pt,leqno]{amsart}
\usepackage{amssymb,amsthm,verbatim,enumerate,ifthen,xcolor,hyperref}
\usepackage[mathscr]{eucal}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\oddsidemargin -0.0cm \evensidemargin -0.0cm
\topmargin -.5cm \textwidth 16.2cm
\textheight 21.5cm   \headheight 1.5cm
\usepackage{graphics}
\usepackage{graphicx}

\newtheorem{prb}{Problem}

\newtheorem{theorem}{Theorem}
\newtheorem*{theorem*}{Theorem}

\newtheorem{Atheorem}{Theorem}

\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{proposition*}{Proposition}

\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{corollary*}{Corollary}

\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{lemma*}{Lemma}

\newtheorem{example}[theorem]{Example}
\newtheorem*{example*}{Example}
\long

\newtheorem{problem}[subsection]{Problem}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem*{definition*}{Definition}

\newtheorem{remark}[theorem]{Remark}
\newtheorem*{remark*}{Remark}

\begin{document}
\begin{flushright}
Publ. Math. Debrecen \textbf{80}(1-2) (2012), 107â126. \\
\href{http://dx.doi.org/110.5486/PMD.2012.4930}{110.5486/PMD.2012.4930} \\[1cm]
\end{flushright}

\title[]{On $\varphi$-convexity}
\author[J.\ MakÃ³]{Judit MakÃ³}
\author[Zs. PÃ¡les]{Zsolt PÃ¡les}
\address{Institute of Mathematics, University of Debrecen,
H-4010 Debrecen, Pf.\ 12, Hungary}
\email{\{makoj,pales\}@science.unideb.hu}

\subjclass[2010]{Primary 39B62, 26A51}
\keywords{Approximate convexity, Jensen convexity, $\varphi$-convexity}

\thanks{This research has been supported by the Hungarian Scientific Research Fund (OTKA) Grant
NK81402 and by the TÃMOP 4.2.1./B-09/1/KONV-2010-0007 project implemented through the New
Hungary Development Plan co-financed by the European Social Fund, and the European Regional
Development Fund.}

\begin{abstract}
In this paper, approximate convexity and approximate midconvexity properties,
called $\varphi$-convexity and $\varphi$-midconvexity, of real valued function are investigated.
Various characterizations of $\varphi$-convex and $\varphi$-midconvex functions are obtained.
Furthermore, the relationship between $\varphi$-midconvexity and $\varphi$-convexity is established.
\end{abstract}

\maketitle

\section{Introduction}

The stability theory of functional inequalities started with the paper
\cite{HyeUla52} of Hyers and Ulam who introduced the notion of ${\varepsilon}$-convex
function: If $D$ is a convex subset of a real linear space $X$ and
${\varepsilon}$ is a nonnegative number, then a function $f:D\to{\mathbb{R}}$ is called
{\it ${\varepsilon}$-convex} if
{\ifthenelse{\equal{{0}}{*}}
  {\begin{equation*}\begin{aligned}{
  f(tx+(1-t)y)\le tf(x)+(1-t)f(y) + {\varepsilon}
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{0}}{
  f(tx+(1-t)y)\le tf(x)+(1-t)f(y) + {\varepsilon}
}\end{aligned}\end{equation}}}
for all $x,y\in D$, $t\in[0,1]$.  The basic result obtained by Hyers and
Ulam states that if the underlying space $X$ is of finite dimension then
$f$ can be written as $f=g+h$, where $g$ is a convex function and $h$ is
a bounded function whose supremum norm is not larger than $k_n{\varepsilon}$,
where the positive constant $k_n$ depends only on the dimension $n$ of
the underlying space $X$.  Hyers and Ulam proved that
$k_n\le(n(n+3))/(4(n+1))$. Green \cite{Gre52}, Cholewa \cite{Cho84a}
obtained much better estimations of $k_n$ showing that asymptotically
$k_n$ is not bigger than $(\log_2(n))/2$. Laczkovich \cite{Lac99}
compared this constant to several other dimension-depending stability
constants and proved that it is not less than $(\log_2(n/2))/4$. This
result shows that there is no analogous stability results for infinite dimensional
spaces $X$. A counterexample in this direction was earlier constructed
by Casini and Papini \cite{CasPap93}. The stability aspects of
${\varepsilon}$-convexity are discussed by Ger \cite{Ger94e}. An overview of results on
$\delta$-convexity can be found in the book of Hyers, Isac, and
Rassias \cite{HyeIsaRas98a}.

If $t=1/2$ and {{\rm(\ref{E{0}})}} holds for all $x,y\in D$, then $f$ is called an
{\it ${\varepsilon}$-Jensen-convex function}.  There is no analogous decomposition
for ${\varepsilon}$-Jensen-convex functions by the counterexample given by Cholewa
\cite{Cho84a}.  However, one can get Bernstein-Doetsch type regularity
theorems which show that ${\varepsilon}$-Jensen-convexity and local upper
boundedness imply $2{\varepsilon}$-convexity.  This result is due to Bernstein
and Doetsch \cite{BerDoe15} for ${\varepsilon}=0$, and to Ng and Nikodem \cite{NgNik93}
in the case ${\varepsilon}\ge0$.  For some recent extensions of these results
to more general convexity concepts, see \cite{Pal00b}. For locally
upper bounded ${\varepsilon}$-Jensen-convex functions one can obtain the existence
of an analogous stability constant $j_n$ (defined similarly as $k_n$
above). The sharp value of this stability constant has recently been
found by Dilworth, Howard, and Roberts \cite{DilHowRob99} who have shown that
$$
  j_n=\frac{1}{2}\Bigl([\log_2(n)]+1+\frac{n}{2^{[\log_2(n)]}}\Bigr)
     \le 1+\frac{1}{2}\log_2(n)
$$
is the best possible value for $j_n$. (Here $[\cdot]$ denotes the
integer-part function). The connection between ${\varepsilon}$-Jensen-convexity
and ${\varepsilon}$-${\mathbb{Q}}$-convexity has been investigated by Mrowiec \cite{Mro01}.

If $D\subset{\mathbb{R}}$ and {{\rm(\ref{E{0}})}} is supposed to be valid for all $x,y\in D$
except a set of 2-dimensional Lebesgue measure zero then one can speak
about {\it almost ${\varepsilon}$-convexity}.  Results in this direction are due
to Kuczma \cite{Kuc70a} (the case ${\varepsilon}=0$) and Ger \cite{Ger88c} (the
case ${\varepsilon}\ge0$).

In a recent paper \cite{Pal03a}, the second author introduced a more
general notion than ${\varepsilon}$-convexity. Let ${\varepsilon}$
and ${\delta}$ be nonnegative constants. A function $f:D \to{\mathbb{R}}$
is called $({\varepsilon},\delta)$-convex, if
$$
  f\left(t x+(1-t) y \right)
    \leq t f(x) + (1-t) f(y) + \delta + {\varepsilon} t (1-t) \|x-y\|
$$
for every $x,y\in D$ and $t \in[0,1]$. The main results of the paper
\cite{Pal03a} obtain a complete characterization of $({\varepsilon},\delta)$-convexity
if $D\subseteq{\mathbb{R}}$ is an open real interval
by showing that these functions are of the form $f=g+h+\ell$, where $g$ is convex,
$h$ is bounded with $\|h\|\leq {\delta}/2$ and $\ell$ is Lipschitzian with Lipschitz modulus
Lip$(\ell)\leq{\varepsilon}$.

In the papers \cite{HazPal04}, \cite{HazPal05}, the notion of $({\varepsilon},p)$-convexity and
$({\varepsilon},p)$-midconvexity were introduced: If ${\varepsilon},p\geq0$ and $t\in[0,1]$, then
a function $f:D \to{\mathbb{R}}$ is called \textit{$({\varepsilon},p,t)$-convex}, if
$$
  f\left(t x+(1-t) y \right)
    \leq t f(x) + (1-t) f(y) + {\varepsilon} (t (1-t) \|x-y\|)^p
$$
for every $x,y\in D$. If the above property holds for $t=1/2$ and for all $t\in[0,1]$,
then we speak about \textit{$({\varepsilon},p)$-midconvexity} and \textit{$({\varepsilon},p)$-convexity}, 
respectively. The main result in \cite{HazPal05} shows that, for locally upper bounded 
functions, $({\varepsilon},p)$-midconvexity implies $(c{\varepsilon},p)$-convexity for some constant $c$.

Another, but related, notion of approximate convexity, the concept of so-called 
paraconvexity was introduced by Rolewicz \cite{Rol79b,Rol79a,Rol05b} in the late 70s.
It also turned out that Takagi-like functions appear naturally in the
investigation of approximate convexity, see, for example, Boros \cite{Bor08},
HÃ¡zy \cite{Haz07a,Haz07b}, HÃ¡zy and PÃ¡les \cite{HazPal04,HazPal05,HazPal09},
MakÃ³ and PÃ¡les \cite{MakPal11b,MakPal11a}, 
Mrowiec, Tabor and Tabor \cite{MroTabTab08}, Tabor and Tabor \cite{TabTab09b,TabTab09a},
Tabor, Tabor, and Å»oÅdak \cite{TabTabZol10a,TabTabZol10b}.

The aim of this paper is to offer a unified framework for most of the mentioned
approximate convexity notions by introducing the notions of $\varphi$-convexity and
$\varphi$-midconvexity and to extend the previously known results to this more general setting.
We also introduce the relevant Takagi type functions which appear naturally in the
description of the connection of $\varphi$-convexity and $\varphi$-midconvexity.

\section{$\varphi$-convexity and $\varphi$-midconvexity}

Throughout the paper ${\mathbb{R}}$, ${\mathbb{R}}_+$, and ${\mathbb{N}}$ denote the sets of real, nonnegative
real, and natural numbers, respectively.
Assume that $D$ is a nonempty convex subset of a real normed space $X$
and denote $D^+:=\{\|x-y\|:x,y\in D\}$. Let $\varphi:D^+\to {\mathbb{R}}_+$ be a given function.

{\ifthenelse{\equal{{1}}{*}}{\begin{definition*}{A function $f:D\to {\mathbb{R}}$ is called \textit{$\varphi$-convex} on $D$, if
{\ifthenelse{\equal{{1a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{1a}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y)\leq tf(x)+(1-t)f(y)+t\varphi\big((1-t)\|x-y\|\big)+(1-t)\varphi\big(t\|x-y\|\big)
}
holds for all $t\in [0,1]$ and for all $x,y \in D.$ If {{\rm(\ref{E{1a}})}} holds for $t=1/2$,
i.e., if, for all $x,y \in D,$
{\ifthenelse{\equal{{1b}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{1b}}
\end{aligned}\end{equation}}}{
f\bigg(\frac{x+y}{2}\bigg)\leq \frac{f(x)+f(y)}{2}+\varphi\bigg(\Big\|\frac{x-y}{2}\Big\|\bigg),
}
then we say that $f$ is \textit{$\varphi$-midconvex}.
}\end{definition*}}
      {\begin{definition}\label{D{1}}{A function $f:D\to {\mathbb{R}}$ is called \textit{$\varphi$-convex} on $D$, if
{\ifthenelse{\equal{{1a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{1a}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y)\leq tf(x)+(1-t)f(y)+t\varphi\big((1-t)\|x-y\|\big)+(1-t)\varphi\big(t\|x-y\|\big)
}
holds for all $t\in [0,1]$ and for all $x,y \in D.$ If {{\rm(\ref{E{1a}})}} holds for $t=1/2$,
i.e., if, for all $x,y \in D,$
{\ifthenelse{\equal{{1b}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{1b}}
\end{aligned}\end{equation}}}{
f\bigg(\frac{x+y}{2}\bigg)\leq \frac{f(x)+f(y)}{2}+\varphi\bigg(\Big\|\frac{x-y}{2}\Big\|\bigg),
}
then we say that $f$ is \textit{$\varphi$-midconvex}.
}\end{definition}}}

In the case $\varphi\equiv0$, the meaning of inequalities {{\rm(\ref{E{1a}})}} and {{\rm(\ref{E{1b}})}} is the convexity
and midconvexity (Jensen-convexity) of $f$, respectively.

An important particular case occurs when $\varphi:D^+\to{\mathbb{R}}_+$ is of the form
$\varphi(x):={\varepsilon} x^p,$ where $p,{\varepsilon}\geq0$ are arbitrary constants.
Then the function $f$ is called \textit{$({\varepsilon},p)$-convex} and
\textit{$({\varepsilon},p)$-midconvex} on $D$, respectively (cf.\ \cite{Pal03a}).

The next results describe the structure of $\varphi$-convex functions and
$\varphi$-midconvex functions.

{\ifthenelse{\equal{{2}}{*}}{\begin{proposition*}{{\color{white}.}
\begin{enumerate}[(i)]
    \item If, for $j=1,\dots,n$, $\varphi_j:D^+\to{\mathbb{R}}_+$, the function $f_j:D\to {\mathbb{R}}$ is
    $\varphi_j$-convex and $c_j$ is a nonnegative number,
    then $c_1f_1+\cdots+c_nf_n$ is $(c_1\varphi_1+\cdots+c_n\varphi_n)$-convex.
    In particular, the set of $\varphi$-convex functions on $D$ is convex.
    \item Let $\{f_{\gamma}:D\to{\mathbb{R}}\mid\gamma\in \Gamma \}$ be a family of
    $\varphi$-convex functions. Assume, for all $x\in D$, that
    $f(x):={\mathop{\mbox{\rm sup}}}_{\gamma\in \Gamma}f_{\gamma}(x)<+\infty$. Then $f$ is $\varphi$-convex.
    \item Let $\{f_{\gamma}:D\to{\mathbb{R}}\mid\gamma\in \Gamma \}$ be a downward directed
    family of $\varphi$-convex functions in the following sense:
    for all $\gamma_1,\gamma_2\in\Gamma$ and $x_1,x_2\in D$, there exists $\gamma\in\Gamma$
    such that $f_\gamma(x_i)\leq f_{\gamma_i}(x_i)$ for $i=1,2$.
    Assume, for all $x\in D$, that $f(x):=\inf_{\gamma\in \Gamma}f_{\gamma}(x)>-\infty$.
    Then $f$ is $\varphi$-convex.
\end{enumerate}}\end{proposition*}}
             {\begin{proposition}\label{P{2}}{{\color{white}.}
\begin{enumerate}[(i)]
    \item If, for $j=1,\dots,n$, $\varphi_j:D^+\to{\mathbb{R}}_+$, the function $f_j:D\to {\mathbb{R}}$ is
    $\varphi_j$-convex and $c_j$ is a nonnegative number,
    then $c_1f_1+\cdots+c_nf_n$ is $(c_1\varphi_1+\cdots+c_n\varphi_n)$-convex.
    In particular, the set of $\varphi$-convex functions on $D$ is convex.
    \item Let $\{f_{\gamma}:D\to{\mathbb{R}}\mid\gamma\in \Gamma \}$ be a family of
    $\varphi$-convex functions. Assume, for all $x\in D$, that
    $f(x):={\mathop{\mbox{\rm sup}}}_{\gamma\in \Gamma}f_{\gamma}(x)<+\infty$. Then $f$ is $\varphi$-convex.
    \item Let $\{f_{\gamma}:D\to{\mathbb{R}}\mid\gamma\in \Gamma \}$ be a downward directed
    family of $\varphi$-convex functions in the following sense:
    for all $\gamma_1,\gamma_2\in\Gamma$ and $x_1,x_2\in D$, there exists $\gamma\in\Gamma$
    such that $f_\gamma(x_i)\leq f_{\gamma_i}(x_i)$ for $i=1,2$.
    Assume, for all $x\in D$, that $f(x):=\inf_{\gamma\in \Gamma}f_{\gamma}(x)>-\infty$.
    Then $f$ is $\varphi$-convex.
\end{enumerate}}\end{proposition}}}

\begin{proof}
(i) is easy to prove.

(ii) Let $x,y\in D$ and $t\in[0,1]$. For all $\gamma\in \Gamma,$ we have
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f_{\gamma}(tx+(1-t)y)
   &\leq tf_{\gamma}(x)+(1-t)f_{\gamma}(y)+ t\varphi\big((1-t)\|x-y\|\big)+(1-t)\varphi\big(t\|x-y\|\big)\\
   &\leq tf(x)+(1-t)f(y)+ t\varphi\big((1-t)\|x-y\|\big)+(1-t)\varphi\big(t\|x-y\|\big).}
Thus,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y)&={\mathop{\mbox{\rm sup}}}_{\gamma\in \Gamma}f_{\gamma}(tx+(1-t)y)\\
            &\leq tf(x)+(1-t)f(y)+t\varphi\big((1-t)\|x-y\|\big)+(1-t)\varphi\big(t\|x-y\|\big).
}
Hence $f$ is $\varphi$-convex.

(iii) Let $x,y \in D$ and $t\in [0,1].$ Let $\delta>0$ be arbitrary.
Then $f(x)<f(x)+\delta$ and $f(y)<f(y)+\delta.$
Thus there exist $\gamma_1,\gamma_2,$ such that $f_{\gamma_1}(x)<f(x)+\delta$ and $f_{\gamma_2}(y)<f(y)+\delta.$
By the conditions of the proposition, there exists $\gamma\in \Gamma,$ such that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f_{\gamma}(x)&\leq f_{\gamma_1}(x)<f(x)+\delta,\\
f_{\gamma}(y)&\leq f_{\gamma_2}(y)<f(y)+\delta.
}
Then we get
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y)&\leq f_{\gamma}(tx+(1-t)y)\\
            &\leq tf_{\gamma}(x)+(1-t)f_{\gamma}(y)+t\varphi\big((1-t)\|x-y\|\big)+(1-t)\varphi\big(t\|x-y\|\big)\\
            &\leq tf(x)+(1-t)f(y)+\delta+t\varphi\big((1-t)\|x-y\|\big)+(1-t)\varphi\big(t\|x-y\|\big).
}
This proves that $f$ is $\varphi$-convex.
\end{proof}

The following statements concern midconvex funtions, they are analogous to those
of {Proposition~\ref{P{2}}}.

{\ifthenelse{\equal{{3}}{*}}{\begin{proposition*}{{\color{white}.}
\begin{enumerate}[(i)]
    \item If, for $j=1,\dots,n$, $\varphi_j:D^+\to{\mathbb{R}}_+$, the function $f_j:D\to {\mathbb{R}}$ is
    $\varphi_j$-midconvex and $c_j$ is a nonnegative number,
    then $c_1f_1+\cdots+c_nf_n$ is $(c_1\varphi_1+\cdots+c_n\varphi_n)$-midconvex.
    In particular, the set of $\varphi$-midconvex functions on $D$ is convex.
    \item Let $\{f_{\gamma}:D\to{\mathbb{R}}\mid\gamma\in \Gamma \}$ be a family of
    $\varphi$-midconvex functions. Assume, for all $x\in D$, that
    $f(x):={\mathop{\mbox{\rm sup}}}_{\gamma\in \Gamma}f_{\gamma}(x)<+\infty$. Then $f$ is $\varphi$-midconvex.
    \item Let $\{f_{\gamma}:D\to{\mathbb{R}}\mid\gamma\in \Gamma \}$ be a downward directed
    family of $\varphi$-midconvex functions in the following sense:
    for all $\gamma_1,\gamma_2\in\Gamma$ and $x_1,x_2\in D$, there exists $\gamma\in\Gamma$
    such that $f_\gamma(x_i)\leq f_{\gamma_i}(x_i)$ for $i=1,2$.
    Assume, for all $x\in D$, that $f(x):=\inf_{\gamma\in \Gamma}f_{\gamma}(x)>-\infty$.
    Then $f$ is $\varphi$-midconvex.
\end{enumerate}}\end{proposition*}}
             {\begin{proposition}\label{P{3}}{{\color{white}.}
\begin{enumerate}[(i)]
    \item If, for $j=1,\dots,n$, $\varphi_j:D^+\to{\mathbb{R}}_+$, the function $f_j:D\to {\mathbb{R}}$ is
    $\varphi_j$-midconvex and $c_j$ is a nonnegative number,
    then $c_1f_1+\cdots+c_nf_n$ is $(c_1\varphi_1+\cdots+c_n\varphi_n)$-midconvex.
    In particular, the set of $\varphi$-midconvex functions on $D$ is convex.
    \item Let $\{f_{\gamma}:D\to{\mathbb{R}}\mid\gamma\in \Gamma \}$ be a family of
    $\varphi$-midconvex functions. Assume, for all $x\in D$, that
    $f(x):={\mathop{\mbox{\rm sup}}}_{\gamma\in \Gamma}f_{\gamma}(x)<+\infty$. Then $f$ is $\varphi$-midconvex.
    \item Let $\{f_{\gamma}:D\to{\mathbb{R}}\mid\gamma\in \Gamma \}$ be a downward directed
    family of $\varphi$-midconvex functions in the following sense:
    for all $\gamma_1,\gamma_2\in\Gamma$ and $x_1,x_2\in D$, there exists $\gamma\in\Gamma$
    such that $f_\gamma(x_i)\leq f_{\gamma_i}(x_i)$ for $i=1,2$.
    Assume, for all $x\in D$, that $f(x):=\inf_{\gamma\in \Gamma}f_{\gamma}(x)>-\infty$.
    Then $f$ is $\varphi$-midconvex.
\end{enumerate}}\end{proposition}}}

{\ifthenelse{\equal{{H}}{*}}{\begin{definition*}{A function $f:D\to {\mathbb{R}}$ is said to be of \textit{$\varphi$-HÃ¶lder class} on $D$
or briefly $f$ is called \textit{$\varphi$-HÃ¶lder} on $D$ if there exists a
nonnegative constant $H$ such that, for all $x,y\in D,$
{\ifthenelse{\equal{{H}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{H}}
\end{aligned}\end{equation}}}{
|f(x)-f(y)|\leq H\varphi(\|x-y\|).
}
The smallest constant $H$ such that {{\rm(\ref{E{H}})}} holds is said to be the
\textit{$\varphi$-HÃ¶lder modulus} of $f$ and is denoted by ${H}_{\varphi}(f)$.
}\end{definition*}}
      {\begin{definition}\label{D{H}}{A function $f:D\to {\mathbb{R}}$ is said to be of \textit{$\varphi$-HÃ¶lder class} on $D$
or briefly $f$ is called \textit{$\varphi$-HÃ¶lder} on $D$ if there exists a
nonnegative constant $H$ such that, for all $x,y\in D,$
{\ifthenelse{\equal{{H}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{H}}
\end{aligned}\end{equation}}}{
|f(x)-f(y)|\leq H\varphi(\|x-y\|).
}
The smallest constant $H$ such that {{\rm(\ref{E{H}})}} holds is said to be the
\textit{$\varphi$-HÃ¶lder modulus} of $f$ and is denoted by ${H}_{\varphi}(f)$.
}\end{definition}}}

A relationship between the $\varphi$-HÃ¶lder property and $\varphi$-convexity is
obtained in the following result.

{\ifthenelse{\equal{{H}}{*}}{\begin{proposition*}{Let $f:D\to {\mathbb{R}}$ be of $\varphi$-HÃ¶lder class on $D$.
Then $f$ is $\big({H}_{\varphi}(f)\cdot\varphi\big)$-convex on $D$.}\end{proposition*}}
             {\begin{proposition}\label{P{H}}{Let $f:D\to {\mathbb{R}}$ be of $\varphi$-HÃ¶lder class on $D$.
Then $f$ is $\big({H}_{\varphi}(f)\cdot\varphi\big)$-convex on $D$.}\end{proposition}}}
\begin{proof}
Let $x,y\in D$ and let $t\in [0,1].$ Then
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y)&-tf(x)-(1-t)f(y)\\
   &=t\big(f(tx+(1-t)y)-f(x)\big)+(1-t)\big(f(tx+(1-t)y)-f(y)\big)\\
   &\leq t{H}_{\varphi}(f)\varphi(\|tx+(1-t)y-x\|)+ (1-t){H}_{\varphi}(f)\varphi(\|tx+(1-t)y-y\|),
}
which is equivalent to the $\big({H}_{\varphi}(f)\cdot\varphi\big)$-convexity of $f.$
\end{proof}

For functions $\varphi:D^+\to {\mathbb{R}}$, we introduce the following subadditivity-type property:

{\ifthenelse{\equal{{IS}}{*}}{\begin{definition*}{
We say that $\varphi$ is \textit{increasingly subadditive on $D^+$} if,
for all $u,v,w\in D^+$ with $u\leq v+w$,
{\ifthenelse{\equal{{uvw}}{*}}
  {\begin{equation*}\begin{aligned}{
  \varphi(u)\leq\varphi(v)+\varphi(w)
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{uvw}}{
  \varphi(u)\leq\varphi(v)+\varphi(w)
}\end{aligned}\end{equation}}}
holds.}\end{definition*}}
      {\begin{definition}\label{D{IS}}{
We say that $\varphi$ is \textit{increasingly subadditive on $D^+$} if,
for all $u,v,w\in D^+$ with $u\leq v+w$,
{\ifthenelse{\equal{{uvw}}{*}}
  {\begin{equation*}\begin{aligned}{
  \varphi(u)\leq\varphi(v)+\varphi(w)
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{uvw}}{
  \varphi(u)\leq\varphi(v)+\varphi(w)
}\end{aligned}\end{equation}}}
holds.}\end{definition}}} Clearly, if $\varphi:{\mathbb{R}}_+\to {\mathbb{R}}$ is nondecreasing and subadditive then it is also
increasingly subadditive on ${\mathbb{R}}^+$.

{\ifthenelse{\equal{{5}}{*}}{\begin{proposition*}{Assume that $\varphi:D^+\to {\mathbb{R}}$ is increasingly subadditive. Then, for all $z\in D$,
the map $x \mapsto -\varphi(\|x-z\|)$ is of $\varphi$-HÃ¶lder class on $D$ with
$\varphi$-HÃ¶lder modulus $1$, and therefore, it is also $\varphi$-convex on $D$.}\end{proposition*}}
             {\begin{proposition}\label{P{5}}{Assume that $\varphi:D^+\to {\mathbb{R}}$ is increasingly subadditive. Then, for all $z\in D$,
the map $x \mapsto -\varphi(\|x-z\|)$ is of $\varphi$-HÃ¶lder class on $D$ with
$\varphi$-HÃ¶lder modulus $1$, and therefore, it is also $\varphi$-convex on $D$.}\end{proposition}}}

\begin{proof} Let $z\in D$ be fixed.
To prove the $\varphi$-HÃ¶lder property of the map $x \mapsto -\varphi(\|x-z\|)$, let $x,y\in D.$
Then $u=\|x-z\|$, $v=\|x-y\|$, and $w=\|y-z\|$ are elements of $D^+$ such that {{\rm(\ref{E{uvw}})}} holds.
Therefore, by the increasing subadditivity, we get
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\varphi(\|x-z\|)-\varphi(\|y-z\|)
\leq \varphi(\|x-y\|)+\varphi(\|y-z\|)-\varphi(\|y-z\|)=\varphi(\|x-y\|).
}
Interchanging $x$ and $y$, we also have $\varphi(\|y-z\|)-\varphi(\|x-z\|)\leq \varphi(\|y-x\|).$
These two inequalities imply
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\big|\varphi(\|x-z\|)-\varphi(\|y-z\|)\big|\leq \varphi(\|x-y\|),
}
which means that the map $x\mapsto -\varphi(\|x-z\|)$ is $\varphi$-HÃ¶lder on $D$
with $\varphi$-HÃ¶lder modulus $1$.
\end{proof}

The next lemma is well known, for completeness we provide its short proof.

{\ifthenelse{\equal{{4}}{*}}{\begin{lemma*}{Let $0\leq p\leq 1$ be an arbitrary constant. Then the map $x\mapsto x^p$ is
subadditive and nondecreasing on ${\mathbb{R}}_+$ and hence it is also increasingly subadditive on ${\mathbb{R}}^+$.}\end{lemma*}}
             {\begin{lemma}\label{L{4}}{Let $0\leq p\leq 1$ be an arbitrary constant. Then the map $x\mapsto x^p$ is
subadditive and nondecreasing on ${\mathbb{R}}_+$ and hence it is also increasingly subadditive on ${\mathbb{R}}^+$.}\end{lemma}}}

\begin{proof} For $s\in ]0,1[$, we have $s\leq s^p.$ Hence
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
    1=s+(1-s)\leq s^p+(1-s)^p.
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
    1=s+(1-s)\leq s^p+(1-s)^p.
}\end{aligned}\end{equation}}}
If $x,y\in{\mathbb{R}}_+$ then, with $s:=\frac{x}{x+y}\in ]0,1[$, we get
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  1\leq \Big(\frac{x}{x+y}\Big)^p+\Big(\frac{y}{x+y}\Big)^p,
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  1\leq \Big(\frac{x}{x+y}\Big)^p+\Big(\frac{y}{x+y}\Big)^p,
}\end{aligned}\end{equation}}}
which shows the subadditivity of the function $x\mapsto x^p$.
\end{proof}

{\ifthenelse{\equal{{5}}{*}}{\begin{definition*}{
Let $0<p\leq 1$ be an arbitrary constant.
For all $t\in D^+$ let $\varphi(t):=t^p,$ then if $f:D\to {\mathbb{R}}$ is a $\varphi$-HÃ¶lder function,
then it is called (classical) \textit{$p$-HÃ¶lder functions}.
In this case the $\varphi$-HÃ¶lder modulus is called \textit{$p$-HÃ¶lder modulus} of $f$
and it is denoted by ${H}_{p}(f)$.
}\end{definition*}}
      {\begin{definition}\label{D{5}}{
Let $0<p\leq 1$ be an arbitrary constant.
For all $t\in D^+$ let $\varphi(t):=t^p,$ then if $f:D\to {\mathbb{R}}$ is a $\varphi$-HÃ¶lder function,
then it is called (classical) \textit{$p$-HÃ¶lder functions}.
In this case the $\varphi$-HÃ¶lder modulus is called \textit{$p$-HÃ¶lder modulus} of $f$
and it is denoted by ${H}_{p}(f)$.
}\end{definition}}}

The next corollary gives a relationship between the $p$-HÃ¶lder
functions and the $p$-convex functions.

{\ifthenelse{\equal{{4}}{*}}{\begin{corollary*}{
Let $0<p\leq 1$ be an arbitrary constant and $z\in X$. Then $x \mapsto -\|x-z\|^p$ is
of $p$-HÃ¶lder class on $X$ with the $p$-HÃ¶lder modulus $1$, and therefore,
it is $(1,p)$-convex on $X$.
}\end{corollary*}}
             {\begin{corollary}\label{C{4}}{
Let $0<p\leq 1$ be an arbitrary constant and $z\in X$. Then $x \mapsto -\|x-z\|^p$ is
of $p$-HÃ¶lder class on $X$ with the $p$-HÃ¶lder modulus $1$, and therefore,
it is $(1,p)$-convex on $X$.
}\end{corollary}}}

The subsequent theorem, which is one of the main results of this paper,
offers equivalent conditions for $\varphi$-convexity. It generalizes the result
of \cite[Thm. 1]{Pal03a}.

{\ifthenelse{\equal{{2}}{*}}{\begin{theorem*}{Let $D$ be an open real interval and $f:D\to {\mathbb{R}}.$ Then the following conditions are equivalent.
\begin{enumerate}[(i)]
 \item $f$ is $\varphi$-convex on $D.$
 \item For $x,u,y\in D$ with $x<u<y,$
   {\ifthenelse{\equal{{2b}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{2b}}
\end{aligned}\end{equation}}}   {
   \frac{f(u)-f(x)-\varphi(u-x)}{u-x}\leq \frac{f(y)-f(u)+\varphi(y-u)}{y-u}.
   }
 \item There exists a function $a:D\to {\mathbb{R}}$ such that, for $x,u\in D,$
   {\ifthenelse{\equal{{2c}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{2c}}
\end{aligned}\end{equation}}}   {
   f(x)-f(u)\geq a(u)(x-u)-\varphi(|x-u|).
   }
\end{enumerate}}\end{theorem*}}
  {\begin{theorem}\label{T{2}}{Let $D$ be an open real interval and $f:D\to {\mathbb{R}}.$ Then the following conditions are equivalent.
\begin{enumerate}[(i)]
 \item $f$ is $\varphi$-convex on $D.$
 \item For $x,u,y\in D$ with $x<u<y,$
   {\ifthenelse{\equal{{2b}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{2b}}
\end{aligned}\end{equation}}}   {
   \frac{f(u)-f(x)-\varphi(u-x)}{u-x}\leq \frac{f(y)-f(u)+\varphi(y-u)}{y-u}.
   }
 \item There exists a function $a:D\to {\mathbb{R}}$ such that, for $x,u\in D,$
   {\ifthenelse{\equal{{2c}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{2c}}
\end{aligned}\end{equation}}}   {
   f(x)-f(u)\geq a(u)(x-u)-\varphi(|x-u|).
   }
\end{enumerate}}\end{theorem}}}

\begin{proof}
$(\mbox{i}) \Rightarrow (\mbox{ii})$ Assume that $f:D\to {\mathbb{R}}$ is
$\varphi$-convex and let $x<u<y$ be arbitrary elements of $D.$
 Choose $t\in [0,1]$ such that $u=tx+(1-t)y,$ that is let $t:=\frac{y-u}{y-x}.$
 Then, applying the $\varphi$-convexity of $f$, we get
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(u)\leq \frac{y-u}{y-x}f(x)+\frac{u-x}{y-x}f(y)+\frac{y-u}{y-x}\varphi\Big(\frac{u-x}{y-x}(y-x)\Big)
+\frac{u-x}{y-x}\varphi\Big(\frac{y-u}{y-x}(y-x)\Big),
}
which is equivalent to
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
(y-u)\big(f(u)-f(x)-\varphi(u-x)\big)\leq (u-x)\big(f(y)-f(u)+\varphi(y-u)\big).
}
Dividing by $(y-u)(u-x)>0$, we arrive at {{\rm(\ref{E{2b}})}}.

$(\mbox{ii}) \Rightarrow (\mbox{iii})$ Assume that $(\mbox{ii})$
holds and, for $u\in D$, define {\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned} \end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}} \end{aligned}\end{equation}}}{ a(u):= \inf_{y\in D,u<y}
\frac{f(y)-f(u)+\varphi(y-u)}{y-u}. } Then in view of
$(\mbox{ii}),$ we get {\ifthenelse{\equal{{2d}}{*}}
  {\begin{equation*}\begin{aligned} \end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{2d}} \end{aligned}\end{equation}}}{
\frac{f(x)-f(u)-\varphi(u-x)}{x-u}\leq a(u)\leq
\frac{f(y)-f(u)+\varphi(y-u)}{y-u}, } for all $x<u<y$ in $D.$ The
left-hand side inequality in ${{\rm(\ref{E{2d}})}}$ yields ${{\rm(\ref{E{2c}})}}$ in the
case $x<u,$ and analogously, the right-hand side inequality (with
the substitution $y:=x$) reduces to ${{\rm(\ref{E{2c}})}}$ in the case $x>u.$
The case $x=u$ is obvious.

$(\mbox{iii}) \Rightarrow (\mbox{i})$
Let $x,y\in D,$ $t\in [0,1]$, and set $u:=tx+(1-t)y$. Then, by $(\mbox{iii})$, we have
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(x)-f(u)&\geq a(u)(x-u)-\varphi(|x-u|),\\
f(y)-f(u)&\geq a(u)(y-u)-\varphi(|y-u|).
}
Multiplying the first inequality by $t$ and the second inequality by $1-t$
and adding up the inequalities so obtained, we get ${{\rm(\ref{E{1a}})}}.$
\end{proof}

{\ifthenelse{\equal{{12}}{*}}{\begin{remark*}{In the vector variable setting (i.e., when $D$ is an open convex subset of a normed space $X$),
instead of condition (iii), the following analogous property can be formulated:
\begin{enumerate}
 \item[(iii)$^*$] There exists a function $a:D\to X^*$ such that, for $x,u\in D,$
   {\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}   {
   f(x)-f(u)\geq a(u)(x-u)-\varphi(\|x-u\|).
   }
\end{enumerate}
One can easily see (by the same argument as above) that (iii)$^*$ implies (i), that is,
the $\varphi$-convexity of $f$. The validity of the reversed implication is an open problem.}\end{remark*}}
             {\begin{remark}\label{R{12}}{In the vector variable setting (i.e., when $D$ is an open convex subset of a normed space $X$),
instead of condition (iii), the following analogous property can be formulated:
\begin{enumerate}
 \item[(iii)$^*$] There exists a function $a:D\to X^*$ such that, for $x,u\in D,$
   {\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}   {
   f(x)-f(u)\geq a(u)(x-u)-\varphi(\|x-u\|).
   }
\end{enumerate}
One can easily see (by the same argument as above) that (iii)$^*$ implies (i), that is,
the $\varphi$-convexity of $f$. The validity of the reversed implication is an open problem.}\end{remark}}}

The next theorem gives another characterization of $\varphi$-convex functions,
if $\varphi$ is increasingly subadditive.

{\ifthenelse{\equal{{6}}{*}}{\begin{theorem*}{Let $D$ be an open real interval and let $\varphi:D^+\to {\mathbb{R}}_+$ be increasingly subadditive.
Then a function $f:D\to{\mathbb{R}}$ is $\varphi$-convex if and only if there exist
two functions $a:D\to {\mathbb{R}}$ and $b:D\to {\mathbb{R}}$ such that
{\ifthenelse{\equal{{6a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{6a}}
\end{aligned}\end{equation}}}{
f(x)={\mathop{\mbox{\rm sup}}}_{u\in D}\big(a(u)x+b(u)-\varphi(|x-u|)\big),
}
for all $x\in D.$}\end{theorem*}}
  {\begin{theorem}\label{T{6}}{Let $D$ be an open real interval and let $\varphi:D^+\to {\mathbb{R}}_+$ be increasingly subadditive.
Then a function $f:D\to{\mathbb{R}}$ is $\varphi$-convex if and only if there exist
two functions $a:D\to {\mathbb{R}}$ and $b:D\to {\mathbb{R}}$ such that
{\ifthenelse{\equal{{6a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{6a}}
\end{aligned}\end{equation}}}{
f(x)={\mathop{\mbox{\rm sup}}}_{u\in D}\big(a(u)x+b(u)-\varphi(|x-u|)\big),
}
for all $x\in D.$}\end{theorem}}}

\begin{proof} Assume that $f$ is $\varphi$-convex. By {Theorem~\ref{T{2}}}, there exists
a function $a:D\to {\mathbb{R}}$ such that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(x)\geq f(u)+a(u)(x-u)-\varphi(|x-u|),
}
for all $u,x\in D.$
Define $b(u):=f(u)-a(u)u,$ for $u\in D.$ Thus, for $u,x\in D$,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(x)\geq a(u)x+b(u)-\varphi(|x-u|)
}
and we have equality for $u=x$. Therefore, {{\rm(\ref{E{6a}})}} holds.

Conversely, assume that {{\rm(\ref{E{6a}})}} is valid for $x\in D$.
By {Proposition~\ref{P{5}}}, for fixed $u\in D$, the mapping $x\mapsto-\varphi(|x-u|)$ is
$\varphi$-convex. The map $x\mapsto a(u)x+b(u)$ is affine, and hence
the function $f_u:D\to{\mathbb{R}}$ defined by $f_u(x):=a(u)x+b(u)-\varphi(|x-u|)$ is
$\varphi$-convex for all fixed $u\in D$.
Now applying (ii) of {Proposition~\ref{P{2}}}, we obtain that $f$ is $\varphi$-convex.
\end{proof}

{\ifthenelse{\equal{{13}}{*}}{\begin{remark*}{In the vector variable setting (i.e., when $D$ is an open convex subset of a normed space $X$),
the following implication can be formulated: If $\varphi:D^+\to {\mathbb{R}}_+$ is increasingly subadditive
and there exist two function $a:D\to X^*$ and $b:D\to {\mathbb{R}}$ such that, for $x\in D,$
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(x)={\mathop{\mbox{\rm sup}}}_{u\in D}\big(a(u)(x)+b(u)-\varphi(\|x-u\|)\big),
}
then $f$ is $\varphi$-convex. The validity of the reversed implication is an open problem.}\end{remark*}}
             {\begin{remark}\label{R{13}}{In the vector variable setting (i.e., when $D$ is an open convex subset of a normed space $X$),
the following implication can be formulated: If $\varphi:D^+\to {\mathbb{R}}_+$ is increasingly subadditive
and there exist two function $a:D\to X^*$ and $b:D\to {\mathbb{R}}$ such that, for $x\in D,$
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(x)={\mathop{\mbox{\rm sup}}}_{u\in D}\big(a(u)(x)+b(u)-\varphi(\|x-u\|)\big),
}
then $f$ is $\varphi$-convex. The validity of the reversed implication is an open problem.}\end{remark}}}

{\ifthenelse{\equal{{11}}{*}}{\begin{corollary*}
\end{corollary*}}
             {\begin{corollary}\label{C{11}}
\end{corollary}}}{Let $D$ be an open real interval and
let $0< p\leq1$ and ${\varepsilon}\geq0$ be arbitrary constants. Then a function $f:D\to{\mathbb{R}}$ is
$({\varepsilon},p)$-convex if and only if there exist two functions
$a:D\to {\mathbb{R}}$ and $b:D\to {\mathbb{R}}$ such that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(x)={\mathop{\mbox{\rm sup}}}_{u\in D}\big(a(u)x+b(u)-{\varepsilon}|x-u|^p\big),
}
for all $x\in D.$
}

The subsequent theorem offers a sufficient condition for the $\varphi$-midconvexity.
The result is analogous to the implication (iii)$\Rightarrow$(i) of {Theorem~\ref{T{2}}}.
Unfortunately, we were not able to obtain the necessity of this condition, i.e.,
the reversed implication.

{\ifthenelse{\equal{{2M}}{*}}{\begin{theorem*}{Let $f:D\to {\mathbb{R}}$ and assume that, for all $u\in D$,
there exists an additive function $A_u: X\to X$ such that
{\ifthenelse{\equal{{2Ma}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{2Ma}}
\end{aligned}\end{equation}}}{
f(x)-f(u)\geq A_u(x-u)-\varphi(\|x-u\|) \qquad(x\in D).
}
Then, $f$ is $\varphi$-midconvex.}\end{theorem*}}
  {\begin{theorem}\label{T{2M}}{Let $f:D\to {\mathbb{R}}$ and assume that, for all $u\in D$,
there exists an additive function $A_u: X\to X$ such that
{\ifthenelse{\equal{{2Ma}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{2Ma}}
\end{aligned}\end{equation}}}{
f(x)-f(u)\geq A_u(x-u)-\varphi(\|x-u\|) \qquad(x\in D).
}
Then, $f$ is $\varphi$-midconvex.}\end{theorem}}}

\begin{proof}
Let $x,y\in D$ and set $u:=\frac{x+y}{2}$. Then, by {{\rm(\ref{E{2Ma}})}}, we have
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(x)-f(u)&\geq A_u(x-u)-\varphi(\|x-u\|)=A_u\bigg(\frac{x-y}{2}\bigg)-\varphi \bigg(\Big\|\frac{x-y}{2}\Big\| \bigg),\\
f(y)-f(u)&\geq A_u(y-u)-\varphi(\|y-u\|)=A_u\bigg(\frac{y-x}{2}\bigg)-\varphi \bigg(\Big\|\frac{y-x}{2}\Big\| \bigg).
}
Adding up the inequalities and multiplying the inequality so obtained by $\frac{1}{2}$, we get ${{\rm(\ref{E{1b}})}}.$
\end{proof}

The following result is analogous to {Theorem~\ref{T{6}}}, however it offers only a sufficient
condition for $\varphi$-midconvexity.

{\ifthenelse{\equal{{6M}}{*}}{\begin{theorem*}{Let $\varphi:D^+\to {\mathbb{R}}_+$ be increasingly subadditive and let $f:D\to {\mathbb{R}}$.
Assume that, for all $u\in D$, there exists an additive function $A_u:X\to X$ and
there exists a function $b:D\to{\mathbb{R}}$ such that
{\ifthenelse{\equal{{6M}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{6M}}
\end{aligned}\end{equation}}}{
f(x)={\mathop{\mbox{\rm sup}}}_{u\in D}\big(A_u(x)+b(u)-\varphi(\|x-u\|)\big),
}
for all $x\in D.$ Then $f$ is $\varphi$-midconvex.}\end{theorem*}}
  {\begin{theorem}\label{T{6M}}{Let $\varphi:D^+\to {\mathbb{R}}_+$ be increasingly subadditive and let $f:D\to {\mathbb{R}}$.
Assume that, for all $u\in D$, there exists an additive function $A_u:X\to X$ and
there exists a function $b:D\to{\mathbb{R}}$ such that
{\ifthenelse{\equal{{6M}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{6M}}
\end{aligned}\end{equation}}}{
f(x)={\mathop{\mbox{\rm sup}}}_{u\in D}\big(A_u(x)+b(u)-\varphi(\|x-u\|)\big),
}
for all $x\in D.$ Then $f$ is $\varphi$-midconvex.}\end{theorem}}}

\begin{proof} Assume that {{\rm(\ref{E{6M}})}} is valid for $x\in D$.
By {Proposition~\ref{P{5}}}, for fixed $u\in D$, the mapping $x\mapsto-\varphi(\|x-u\|)$ is
$\varphi$-convex, so it is $\varphi$-midconvex. The map $x\mapsto A_u(x)+b(u)$ is affine,
 and hence the function $f_u:D\to{\mathbb{R}}$ defined by $f_u(x):=A_u(x)+b(u)-\varphi(\|x-u\|)$ is
$\varphi$-midconvex for all fixed $u\in D$.
Now applying (ii) of {Proposition~\ref{P{3}}}, we obtain that $f$ is $\varphi$-midconvex.
\end{proof}

Henceforth we search for relations between the local upper-bounded
$\varphi$-midconvex functions and $\varphi$-convex functions
with the help of the results from the papers \cite{Haz05a} and \cite{HazPal05}
by HÃ¡zy and PÃ¡les.

Define the function $d_{\mathbb{Z}}:{\mathbb{R}}\to{\mathbb{R}}_+$ by
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  d_{\mathbb{Z}}(t)={\mathop{\mbox{\rm dist}}}(t,{\mathbb{Z}}):=\min\{|t-k|:k\in{\mathbb{Z}}\}.
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  d_{\mathbb{Z}}(t)={\mathop{\mbox{\rm dist}}}(t,{\mathbb{Z}}):=\min\{|t-k|:k\in{\mathbb{Z}}\}.
}\end{aligned}\end{equation}}}
It is immediate to see that $d_{\mathbb{Z}}$ is 1-periodic and symmetric with respect to
$t=1/2$, i.e., $d_{\mathbb{Z}}(t)=d_{\mathbb{Z}}(1-t)$ holds for all $t\in{\mathbb{R}}$.
For a fixed $\varphi:\frac12 D^+\to{\mathbb{R}}_+$, we introduce the Takagi type
function ${\mathscr{T}}_\varphi:{\mathbb{R}}\times D^+\to{\mathbb{R}}_+$ by
{\ifthenelse{\equal{{TT}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{TT}}
\end{aligned}\end{equation}}}{
{\mathscr{T}}_\varphi(t,u):=\sum_{n=0}^{\infty}\frac{\varphi\big(d_{\mathbb{Z}}(2^{n}t)u\big)}{2^{n}}
\qquad((t,u)\in {\mathbb{R}}\times D^+).
}
Applying the estimate $0\leq d_{\mathbb{Z}}\leq\frac12$,
one can easily see that ${\mathscr{T}}_\varphi(t,u)\leq2\varphi\big(\frac{u}{2}\big)$ for $u\in D^+$
whenever $\varphi$ is nondecreasing.

For $p\geq0$, we also define the Takagi type function $T_p:{\mathbb{R}}\to{\mathbb{R}}_+$ by
{\ifthenelse{\equal{{Tp}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{Tp}}
\end{aligned}\end{equation}}}{
 T_p(t):=\sum_{n=0}^{\infty}\frac{\big(d_{\mathbb{Z}}(2^{n}t)\big)^p}{2^{n}}
\qquad(t\in{\mathbb{R}}).
}
In the case when $\varphi$ is of the form $\varphi(t)={\varepsilon}|t|^p$ for some
constants ${\varepsilon}\geq0$ and $p\geq0$, the following identity holds:
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
   {\mathscr{T}}_\varphi(t,u)={\varepsilon} T_p(t)u^p \qquad((t,u)\in {\mathbb{R}}\times D^+).
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
   {\mathscr{T}}_\varphi(t,u)={\varepsilon} T_p(t)u^p \qquad((t,u)\in {\mathbb{R}}\times D^+).
}\end{aligned}\end{equation}}}
Observe that ${\mathscr{T}}_\varphi$ and $T_p$ are also 1-periodic and symmetric with respect to
$t=1/2$ in their first variables.

In order to obtain lower and upper estimates for the functions ${\mathscr{T}}_\varphi$ and
$T_p$ defined above, we need to recall de Rham's classical theorem \cite{Rha57}.
By ${\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ we denote the space of bounded functions $f:{\mathbb{R}}\to{\mathbb{R}}$ equipped
with the supremum norm.

{\ifthenelse{\equal{{TT}}{*}}{\begin{theorem*}{Let $\psi\in {\mathscr{B}}({\mathbb{R}},{\mathbb{R}}), a,b\in {\mathbb{R}},$ $|a|<1.$ Let
$F_\psi:{\mathscr{B}}({\mathbb{R}},{\mathbb{R}})\to {\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ be an operator defined as follows
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\big(F_\psi f\big)(t)
  :=af(bt)+\psi(t) \qquad \mbox{for}\quad f\in {\mathscr{B}}({\mathbb{R}},{\mathbb{R}}),\,\,t\in {\mathbb{R}}.
}
Then
\begin{enumerate}[(i)]
\item $F_\psi$ is a contraction on ${\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ with a unique fixed point
$f_\psi$ which is given by the formula
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  f_\psi(t)=\sum_{n=0}^{\infty}a^n\psi(b^nt) \qquad (t\in {\mathbb{R}});
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  f_\psi(t)=\sum_{n=0}^{\infty}a^n\psi(b^nt) \qquad (t\in {\mathbb{R}});
}\end{aligned}\end{equation}}}
\item if $a\geq 0$ and the functions $g,h\in{\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ satisfy
the inequalities $g\leq F_\psi g$ and $F_\psi h\leq h$, then $g\leq f_\psi\leq h.$
\end{enumerate}}\end{theorem*}}
  {\begin{theorem}\label{T{TT}}{Let $\psi\in {\mathscr{B}}({\mathbb{R}},{\mathbb{R}}), a,b\in {\mathbb{R}},$ $|a|<1.$ Let
$F_\psi:{\mathscr{B}}({\mathbb{R}},{\mathbb{R}})\to {\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ be an operator defined as follows
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\big(F_\psi f\big)(t)
  :=af(bt)+\psi(t) \qquad \mbox{for}\quad f\in {\mathscr{B}}({\mathbb{R}},{\mathbb{R}}),\,\,t\in {\mathbb{R}}.
}
Then
\begin{enumerate}[(i)]
\item $F_\psi$ is a contraction on ${\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ with a unique fixed point
$f_\psi$ which is given by the formula
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  f_\psi(t)=\sum_{n=0}^{\infty}a^n\psi(b^nt) \qquad (t\in {\mathbb{R}});
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  f_\psi(t)=\sum_{n=0}^{\infty}a^n\psi(b^nt) \qquad (t\in {\mathbb{R}});
}\end{aligned}\end{equation}}}
\item if $a\geq 0$ and the functions $g,h\in{\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ satisfy
the inequalities $g\leq F_\psi g$ and $F_\psi h\leq h$, then $g\leq f_\psi\leq h.$
\end{enumerate}}\end{theorem}}}

{\ifthenelse{\equal{{1}}{*}}{\begin{remark*}{In view of the first assertion of this theorem, observe that the functions
${\mathscr{T}}_\varphi(\cdot,u)$ and $T_p$
defined in {{\rm(\ref{E{TT}})}} and {{\rm(\ref{E{Tp}})}} are the fixed points of the operator:
{\ifthenelse{\equal{{FF}}{*}}
  {\begin{equation*}\begin{aligned}{
   \big(F_\psi f\big)(t):=\frac12 f(2t)+\psi(t)
    \qquad \mbox{for}\quad f\in {\mathscr{B}}({\mathbb{R}},{\mathbb{R}}),\,\,t\in{\mathbb{R}}
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{FF}}{
   \big(F_\psi f\big)(t):=\frac12 f(2t)+\psi(t)
    \qquad \mbox{for}\quad f\in {\mathscr{B}}({\mathbb{R}},{\mathbb{R}}),\,\,t\in{\mathbb{R}}
}\end{aligned}\end{equation}}}
where $\psi\in{\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ is given by $\psi(t):=\varphi\big(d_{\mathbb{Z}}(t)u\big)$
and $\psi(t):=\big(d_{\mathbb{Z}}(t)\big)^p$, respectively.}\end{remark*}}
             {\begin{remark}\label{R{1}}{In view of the first assertion of this theorem, observe that the functions
${\mathscr{T}}_\varphi(\cdot,u)$ and $T_p$
defined in {{\rm(\ref{E{TT}})}} and {{\rm(\ref{E{Tp}})}} are the fixed points of the operator:
{\ifthenelse{\equal{{FF}}{*}}
  {\begin{equation*}\begin{aligned}{
   \big(F_\psi f\big)(t):=\frac12 f(2t)+\psi(t)
    \qquad \mbox{for}\quad f\in {\mathscr{B}}({\mathbb{R}},{\mathbb{R}}),\,\,t\in{\mathbb{R}}
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{FF}}{
   \big(F_\psi f\big)(t):=\frac12 f(2t)+\psi(t)
    \qquad \mbox{for}\quad f\in {\mathscr{B}}({\mathbb{R}},{\mathbb{R}}),\,\,t\in{\mathbb{R}}
}\end{aligned}\end{equation}}}
where $\psi\in{\mathscr{B}}({\mathbb{R}},{\mathbb{R}})$ is given by $\psi(t):=\varphi\big(d_{\mathbb{Z}}(t)u\big)$
and $\psi(t):=\big(d_{\mathbb{Z}}(t)\big)^p$, respectively.}\end{remark}}}

In the results below, we establish upper
and lower bounds for ${\mathscr{T}}_\varphi$ in terms of the function $\tau_\varphi:{\mathbb{R}}\times D^+\to{\mathbb{R}}$ defined by
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\tau_{\varphi}(t,u):= d_{\mathbb{Z}}(t)\varphi\big((1-d_{\mathbb{Z}}(t))u\big)
         +(1-d_{\mathbb{Z}}(t))\varphi\big(d_{\mathbb{Z}}(t)u\big) \qquad ((t,u)\in {\mathbb{R}}\times D^+).
}
Observe that, for $t\in[0,1]$, we have
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\tau_{\varphi}(t,u):= t\varphi\big((1-t)u\big)
         +(1-t)\varphi\big(tu\big) \qquad (u\in D^+),
}
which is exactly the error term related to $\varphi$-convexity.

{\ifthenelse{\equal{{7}}{*}}{\begin{proposition*}{Let $\varphi:D^+\to {\mathbb{R}}_+$ be subadditive. Then, for all $(t,u)\in{\mathbb{R}}\times D^+,$
{\ifthenelse{\equal{{7a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{7a}}
\end{aligned}\end{equation}}}{
\tau_\varphi(t,u)\leq {\mathscr{T}}_\varphi(t,u).
}}\end{proposition*}}
             {\begin{proposition}\label{P{7}}{Let $\varphi:D^+\to {\mathbb{R}}_+$ be subadditive. Then, for all $(t,u)\in{\mathbb{R}}\times D^+,$
{\ifthenelse{\equal{{7a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{7a}}
\end{aligned}\end{equation}}}{
\tau_\varphi(t,u)\leq {\mathscr{T}}_\varphi(t,u).
}}\end{proposition}}}

\begin{proof}
Let $u\in D^+$ be arbitrarily fixed. By the 1-periodicity and symmetry with respect to
the point $t=1/2$, it suffices to show that {{\rm(\ref{E{7a}})}} holds for all $t\in\big[0,\frac12\big]$.
If $t=0$ then {{\rm(\ref{E{7a}})}} is obvious.
Now assume that $0<t\leq \frac12.$
Then there exists a unique $k\in {\mathbb{N}}$ such that $\frac{1}{2^{k+1}}<t\leq\frac{1}{2^{k}}.$
Then, one can easily see that
{\ifthenelse{\equal{{kk}}{*}}
  {\begin{equation*}\begin{aligned}{
  d_{\mathbb{Z}}(t)=t,\qquad d_{\mathbb{Z}}(2t)=2t,\quad\dots,\quad d_{\mathbb{Z}}(2^{k-1}t)=2^{k-1}t,\qquad
   d_{\mathbb{Z}}(2^kt)=1-2^kt.
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{kk}}{
  d_{\mathbb{Z}}(t)=t,\qquad d_{\mathbb{Z}}(2t)=2t,\quad\dots,\quad d_{\mathbb{Z}}(2^{k-1}t)=2^{k-1}t,\qquad
   d_{\mathbb{Z}}(2^kt)=1-2^kt.
}\end{aligned}\end{equation}}}
On the other hand, by the well-known identity $\sum_{j=0}^{k-1} 2^j=2^k-1$, we have
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
(1-t)u=tu+2tu+\cdots+2^{k-1}tu+(1-2^kt)u.
}
Then, by the subadditivity of $\varphi$, and by $t\leq \frac{1}{2^{k}}<\frac{1}{2^{k-1}}<\cdots<\frac{1}{2},$
it follows that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
t\varphi((1-t)u) &\leq t\varphi(tu)+t\varphi(2tu)+\cdots+t\varphi(2^{k-1}tu)+t\varphi((1-2^kt)u)\\
   &\leq t\varphi(tu)+\frac{\varphi(2tu)}{2}+\cdots
           +\frac{\varphi(2^{k-1}tu)}{2^{k-1}}+\frac{\varphi((1-2^kt)u)}{2^k}.
}
Adding $(1-t)\varphi(tu)$ to the previous inequality and using {{\rm(\ref{E{kk}})}}, we get
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\tau_\varphi(t,u):=t\varphi((1-t)u)+(1-t)\varphi(tu)\leq& \varphi(tu)+\frac{\varphi(2tu)}{2}+\cdots+\frac{\varphi(2^{k-1}tu)}{2^{k-1}}+\frac{\varphi((1-2^kt)u)}{2^k}\\
  =& \sum_{j=0}^k \frac{\varphi(d_{\mathbb{Z}}(2^jt)u)}{2^j}\leq {\mathscr{T}}_\varphi(t,u).
}
Which completes the proof of {{\rm(\ref{E{7a}})}}.
\end{proof}

{\ifthenelse{\equal{{8}}{*}}{\begin{proposition*}{Let $\varphi:D^+\to {\mathbb{R}}_+$ be nondecreasing with $\varphi(s)>0$ for $s>0$
and assume that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  \gamma_\varphi:={\mathop{\mbox{\rm sup}}}_{0<s\in\frac{1}{2}D^+}\frac{\varphi(2s)}{\varphi(s)}<2.
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  \gamma_\varphi:={\mathop{\mbox{\rm sup}}}_{0<s\in\frac{1}{2}D^+}\frac{\varphi(2s)}{\varphi(s)}<2.
}\end{aligned}\end{equation}}}
Then, for all $(t,u)\in{\mathbb{R}}\times D^+$,
{\ifthenelse{\equal{{8a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{8a}}
\end{aligned}\end{equation}}}{
{\mathscr{T}}_\varphi(t,u)\leq \frac{2}{2-\gamma_\varphi}\tau_\varphi(t,u)
}
holds.
}\end{proposition*}}
             {\begin{proposition}\label{P{8}}{Let $\varphi:D^+\to {\mathbb{R}}_+$ be nondecreasing with $\varphi(s)>0$ for $s>0$
and assume that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  \gamma_\varphi:={\mathop{\mbox{\rm sup}}}_{0<s\in\frac{1}{2}D^+}\frac{\varphi(2s)}{\varphi(s)}<2.
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  \gamma_\varphi:={\mathop{\mbox{\rm sup}}}_{0<s\in\frac{1}{2}D^+}\frac{\varphi(2s)}{\varphi(s)}<2.
}\end{aligned}\end{equation}}}
Then, for all $(t,u)\in{\mathbb{R}}\times D^+$,
{\ifthenelse{\equal{{8a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{8a}}
\end{aligned}\end{equation}}}{
{\mathscr{T}}_\varphi(t,u)\leq \frac{2}{2-\gamma_\varphi}\tau_\varphi(t,u)
}
holds.
}\end{proposition}}}

\begin{proof}
To prove {{\rm(\ref{E{8a}})}}, we fix an arbitrary element $u\in D^+$.
By {Remark~\ref{R{1}}}, the function ${\mathscr{T}}_\varphi(\cdot,u)$ is the fixed point of the operator
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
(F_\varphi f)(t)=\frac{1}{2}f(2t)+\varphi(d_{\mathbb{Z}}(t)u).
}
Define the function $g:{\mathbb{R}}\to{\mathbb{R}}$ by $g(t):=  \frac{2}{2-\gamma_\varphi}\tau_\varphi(t,u)$.
In view of {Theorem~\ref{T{TT}}}, in order to prove inequality {{\rm(\ref{E{8a}})}}, it is enough to show that
{\ifthenelse{\equal{{8b}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{8b}}
\end{aligned}\end{equation}}}{
(F_\varphi g)(t)\leq g(t)\qquad(t\in{\mathbb{R}}).
}
Since $g$ is periodic by $1$ and symmetric with respect to $t=1/2$,
it suffices to prove that {{\rm(\ref{E{8b}})}} is satisfied on $\big[0,\frac12\big].$
Trivially, $\gamma_\varphi\geq1$, hence the inequality {{\rm(\ref{E{8b}})}} is obvious
for $t=0$ or for $u=0$. Thus, we may assume that $u>0$ and $0<t\leq \frac12.$
By the definition of the constant $\gamma_\varphi$, we have that
{\ifthenelse{\equal{{8c}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{8c}}
\end{aligned}\end{equation}}}{
 \varphi(tu)\Big(1-\frac{\gamma_\varphi}{2}\Big) \leq \varphi(tu)-\frac{\varphi(2tu)}{2}.
}
Since $t\leq 2t$ and $1-2t\leq 1-t$ and $\varphi$ is nondecreasing we also have that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
0\leq t(\varphi((1-t)u)-\varphi((1-2t)u))+t\varphi(2tu)-t\varphi(tu).
}
Adding $\varphi(tu)-\dfrac{\varphi(2tu)}{2}$ to the previous inequality and also
using {{\rm(\ref{E{8c}})}}, we obtain
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\varphi(tu)\Big(1-\frac{\gamma_\varphi}{2}\Big) &\leq
\varphi(tu)-\frac{\varphi(2tu)}{2}\\&\leq t\big(\varphi((1-t)u)-\varphi((1-2t)u)\big)+(1-t)\varphi(tu)-\Big(\frac12-t\Big)\varphi(2tu).
}
Rearranging this inequality, we finally obtain that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\frac{1}{2-\gamma_\varphi}\big(2t\varphi\big((1-2t)u\big)+(1-2t)\varphi\big(2tu\big)\big)+\varphi(tu)
  \leq \frac{2}{2-\gamma_\varphi}\big(t\varphi\big((1-t)u\big)+(1-t)\varphi\big(tu\big)\big),
}
which means that {{\rm(\ref{E{8b}})}} is satisfied for all $0<t\leq \frac12.$
\end{proof}

Let $\mu$ be a nonnegative finite Borel measure on $[0,1]$ and let ${\mathop{\mbox{\rm supp}}} \mu$ denote
the support of $\mu.$

{\ifthenelse{\equal{{10}}{*}}{\begin{lemma*}{Let $\mu$ be a nonnegative and nonzero finite Borel measure on $[0,1]$
and let $\chi:]0,\infty[\to {\mathbb{R}}_+$ be defined by
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\chi(s)=\frac{\int_{[0,1]}(2s)^pd\mu(p)}{\int_{[0,1]}s^pd\mu(p)}.
}
Then $\chi$ is nondecreasing on $]0,\infty[$ and
{\ifthenelse{\equal{{lim}}{*}}
  {\begin{equation*}\begin{aligned}{
  \lim_{s\to\infty}\chi(s)=2^{p_0},
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{lim}}{
  \lim_{s\to\infty}\chi(s)=2^{p_0},
}\end{aligned}\end{equation}}}
where $p_0:={\mathop{\mbox{\rm sup}}}({\mathop{\mbox{\rm supp}}}\mu)$.}\end{lemma*}}
             {\begin{lemma}\label{L{10}}{Let $\mu$ be a nonnegative and nonzero finite Borel measure on $[0,1]$
and let $\chi:]0,\infty[\to {\mathbb{R}}_+$ be defined by
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\chi(s)=\frac{\int_{[0,1]}(2s)^pd\mu(p)}{\int_{[0,1]}s^pd\mu(p)}.
}
Then $\chi$ is nondecreasing on $]0,\infty[$ and
{\ifthenelse{\equal{{lim}}{*}}
  {\begin{equation*}\begin{aligned}{
  \lim_{s\to\infty}\chi(s)=2^{p_0},
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{lim}}{
  \lim_{s\to\infty}\chi(s)=2^{p_0},
}\end{aligned}\end{equation}}}
where $p_0:={\mathop{\mbox{\rm sup}}}({\mathop{\mbox{\rm supp}}}\mu)$.}\end{lemma}}}

\begin{proof}The function $x\mapsto 2^x$ is strictly increasing, hence, for
$p,q\in{\mathbb{R}}$, we have $ (2^p-2^q)(p-q)\geq0$. It suffices to show that $\chi'\geq0$.
For $s>0,$ we obtain
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\chi'(s)&=\frac{\int_{[0,1]}2^pps^{p-1}d\mu(p) \cdot \int_{[0,1]}s^{p}d\mu(p)
         - \int_{[0,1]}2^ps^{p}d\mu(p) \cdot \int_{[0,1]}ps^{p-1}d\mu(p)}
               {\big(\int_{[0,1]}s^{p}d\mu(p)\big)^2}\\
      &=\frac{\int_{[0,1]}2^pps^{p-1}d\mu(p) \cdot \int_{[0,1]}s^{q}d\mu(q)
         + \int_{[0,1]}2^qqs^{q-1}d\mu(q) \cdot \int_{[0,1]}s^{p}d\mu(p)}
               {2\big(\int_{[0,1]}s^{p}d\mu(p)\big)^2}\\
      &\quad- \frac{\int_{[0,1]}2^ps^{p}d\mu(p) \cdot \int_{[0,1]}qs^{q-1}d\mu(q)
         + \int_{[0,1]}2^qs^{q}d\mu(q) \cdot \int_{[0,1]}ps^{p-1}d\mu(p)}
               {2\big(\int_{[0,1]}s^{p}d\mu(p)\big)^2}\\
        &=\frac{\int_{[0,1]}\int_{[0,1]}(2^p-2^q)(p-q)s^{p+q-1} d\mu(p)d\mu(q)}
               {2\big(\int_{[0,1]}s^{p}d\mu(p)\big)^2}\geq 0,
}
which proves that $\chi$ is nondecreasing.

Using ${\mathop{\mbox{\rm supp}}}\mu\subseteq[0,p_0]$, for $s>0,$ we obtain
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\int_{[0,1]}s^pd\mu(p)=\int_{[0,1]}2^p\Big(\frac{s}{2}\Big)^pd\mu(p)\leq 2^{p_0}\int_{[0,1]}\Big(\frac{s}{2}\Big)^pd\mu(p),
}
which proves that $\chi(s)\leq 2^{p_0}$, and hence, $\lim_{s\to\infty}\chi(s)\leq2^{p_0}$.

To show that in {{\rm(\ref{E{lim}})}} the equality is valid,
assume that $\lim_{s\to\infty}\chi(s)<2^{p_0}$. Choose $q<q_0<p_0$
so that $\lim_{s\to\infty}\chi(s)\leq 2^{q}$. Then, for all $s>0$,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  \int_{[0,1]}(2s)^pd\mu(p)\leq2^q\int_{[0,1]}s^pd\mu(p),
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  \int_{[0,1]}(2s)^pd\mu(p)\leq2^q\int_{[0,1]}s^pd\mu(p),
}\end{aligned}\end{equation}}}
i.e., for all $s\geq1$,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  0&\leq\int_{[0,1]}(2^q-2^p)s^pd\mu(p)\\
   &=\int_{[0,q[}(2^q-2^p)s^pd\mu(p)
   +\int_{[q,q_0[}(2^q-2^p)s^pd\mu(p)+\int_{[q_0,1]}(2^q-2^p)s^pd\mu(p)\\
   &\leq\int_{[0,q[}(2^q-2^p)s^pd\mu(p)+\int_{[q_0,1]}(2^q-2^p)s^pd\mu(p)\\
   &\leq\int_{[0,q[}(2^q-2^p)s^pd\mu(p)+\int_{[q_0,1]}(2^q-2^p)s^{q_0}d\mu(p).
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  0&\leq\int_{[0,1]}(2^q-2^p)s^pd\mu(p)\\
   &=\int_{[0,q[}(2^q-2^p)s^pd\mu(p)
   +\int_{[q,q_0[}(2^q-2^p)s^pd\mu(p)+\int_{[q_0,1]}(2^q-2^p)s^pd\mu(p)\\
   &\leq\int_{[0,q[}(2^q-2^p)s^pd\mu(p)+\int_{[q_0,1]}(2^q-2^p)s^pd\mu(p)\\
   &\leq\int_{[0,q[}(2^q-2^p)s^pd\mu(p)+\int_{[q_0,1]}(2^q-2^p)s^{q_0}d\mu(p).
}\end{aligned}\end{equation}}}
Therefore, for $s\geq1$,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}{
  0\leq\int_{[0,q[}(2^q-2^p)s^{p-q_0}d\mu(p)+\int_{[q_0,1]}(2^q-2^p)d\mu(p).
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}{
  0\leq\int_{[0,q[}(2^q-2^p)s^{p-q_0}d\mu(p)+\int_{[q_0,1]}(2^q-2^p)d\mu(p).
}\end{aligned}\end{equation}}}
The first integrand converges uniformly to $0$ on $[0,q[$ as $s\to\infty$.
Thus, by taking the limit $s\to\infty$, we get
{\ifthenelse{\equal{{xx}}{*}}
  {\begin{equation*}\begin{aligned}{
  0\leq\int_{[q_0,1]}(2^q-2^p)d\mu(p).
}\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{xx}}{
  0\leq\int_{[q_0,1]}(2^q-2^p)d\mu(p).
}\end{aligned}\end{equation}}}
On the other hand, the inequality $q_0<p_0={\mathop{\mbox{\rm sup}}}({\mathop{\mbox{\rm supp}}}\mu)$
implies $\mu([q_0,1])>0$ and, obviously, $2^q-2^p<0$ for $p\in[q_0,1]$. Hence
the right hand side of {{\rm(\ref{E{xx}})}} is negative. The contradiction so obtained proves
{{\rm(\ref{E{lim}})}}.
\end{proof}

{\ifthenelse{\equal{{9}}{*}}{\begin{proposition*}{Let $\mu$ be a nonnegative and nonzero finite Borel measure on $[0,1]$.
Denote $\alpha:={\mathop{\mbox{\rm sup}}} D^+$ and $p_0:={\mathop{\mbox{\rm sup}}}({\mathop{\mbox{\rm supp}}}\mu)$ and define $\varphi:D^+\to {\mathbb{R}}_+$ by
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\varphi(s):=\int_{[0,1]}s^pd\mu(p) \quad \mbox{for all} \quad s\in D^+.
}
Then $\varphi$ is subadditive and nondecreasing, furthermore,
{\ifthenelse{\equal{{gp}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{gp}}
\end{aligned}\end{equation}}}{
\gamma_{\varphi}=\left\{
\begin{array}{lcl}
\dfrac{\int_{[0,1]}\alpha^pd\mu(p)}{\int_{[0,1]}(\alpha/2)^pd\mu(p)},
    &\text{if} & \alpha<\infty,\\[6mm]
2^{p_0},
    &\text{if} & \alpha=\infty
\end{array}\right.
}
and $\gamma_\varphi<2$ if either $\alpha<\infty$ and $\mu$ is not concentrated at the
singleton $\{1\}$ or $p_0<1$.
In addition, for all $t\in[0,1]$ and $u\in D^+$,
{\ifthenelse{\equal{{9A}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{9A}}
\end{aligned}\end{equation}}}{
\int_{[0,1]}\big[t(1-t)^p+(1-t)t^p\big]u^pd\mu(p)
 \leq \int_{[0,1]}T_p(t)u^pd\mu(p)
}
and, provided that $\gamma_\varphi<2$,
{\ifthenelse{\equal{{9B}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{9B}}
\end{aligned}\end{equation}}}{
 \int_{[0,1]}T_p(t)u^pd\mu(p)
 \leq \frac{2}{2-\gamma_\varphi}\int_{[0,1]}\big[t(1-t)^p+(1-t)t^p\big]u^pd\mu(p).
}}\end{proposition*}}
             {\begin{proposition}\label{P{9}}{Let $\mu$ be a nonnegative and nonzero finite Borel measure on $[0,1]$.
Denote $\alpha:={\mathop{\mbox{\rm sup}}} D^+$ and $p_0:={\mathop{\mbox{\rm sup}}}({\mathop{\mbox{\rm supp}}}\mu)$ and define $\varphi:D^+\to {\mathbb{R}}_+$ by
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\varphi(s):=\int_{[0,1]}s^pd\mu(p) \quad \mbox{for all} \quad s\in D^+.
}
Then $\varphi$ is subadditive and nondecreasing, furthermore,
{\ifthenelse{\equal{{gp}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{gp}}
\end{aligned}\end{equation}}}{
\gamma_{\varphi}=\left\{
\begin{array}{lcl}
\dfrac{\int_{[0,1]}\alpha^pd\mu(p)}{\int_{[0,1]}(\alpha/2)^pd\mu(p)},
    &\text{if} & \alpha<\infty,\\[6mm]
2^{p_0},
    &\text{if} & \alpha=\infty
\end{array}\right.
}
and $\gamma_\varphi<2$ if either $\alpha<\infty$ and $\mu$ is not concentrated at the
singleton $\{1\}$ or $p_0<1$.
In addition, for all $t\in[0,1]$ and $u\in D^+$,
{\ifthenelse{\equal{{9A}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{9A}}
\end{aligned}\end{equation}}}{
\int_{[0,1]}\big[t(1-t)^p+(1-t)t^p\big]u^pd\mu(p)
 \leq \int_{[0,1]}T_p(t)u^pd\mu(p)
}
and, provided that $\gamma_\varphi<2$,
{\ifthenelse{\equal{{9B}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{9B}}
\end{aligned}\end{equation}}}{
 \int_{[0,1]}T_p(t)u^pd\mu(p)
 \leq \frac{2}{2-\gamma_\varphi}\int_{[0,1]}\big[t(1-t)^p+(1-t)t^p\big]u^pd\mu(p).
}}\end{proposition}}}

\begin{proof}It can be easily seen that $\varphi$ is nondecreasing. The subadditivity
is a consequence of {Lemma~\ref{L{4}}}.

Let $\alpha<\infty.$ Then, by {Lemma~\ref{L{10}}}, the map
$s\mapsto\dfrac{\varphi(2s)}{\varphi(s)}= \dfrac{\int_{[0,1]}(2s^p)d\mu(p)}{\int_{[0,1]}s^pd\mu(p)}=\chi(s)$
is nondecreasing on $\frac12D^+,$ so it attains its supremum at $\alpha/2.$ Thus, in this case,
$\gamma_\varphi=\dfrac{\int_{[0,1]}\alpha^pd\mu(p)}{\int_{[0,1]}(\alpha/2)^pd\mu(p)}.$
To prove that $\gamma_\varphi<2$, we use the inequality $2^p<2$ for $p\in[0,1]$ to obtain:
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\int_{[0,1]}\alpha^pd\mu(p)
   =\int_{[0,1]}2^p\Big(\frac{\alpha}{2}\Big)^pd\mu(p)
   <2\int_{[0,1]}\Big(\frac{\alpha}{2}\Big)^pd\mu(p).
}
In the case $\alpha=\infty$, by {Lemma~\ref{L{10}}}, we have that
$\gamma_\varphi=\lim_{s\to\infty}\chi(s)=2^{p_0}$.
Obviously, $\gamma_{\varphi}<2$ if $p_0<1$.

The inequalities {{\rm(\ref{E{9A}})}} and {{\rm(\ref{E{9B}})}} are immediate consequences of {Proposition~\ref{P{7}}} and {Proposition~\ref{P{8}}}, respectively.
\end{proof}

In the case when the measure $\mu$ is concentrated at a singleton $\{p\}$, {Proposition~\ref{P{9}}}
simplifies to the following result.

{\ifthenelse{\equal{{13}}{*}}{\begin{corollary*}{Let $0\leq p\leq1$ be an arbitrary constant. Then, for all $t\in[0,1]$,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
t(1-t)^p+(1-t)t^p\leq T_p(t)
}
and, provided that $p<1$,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
 T_p(t)\leq \frac{2}{2-2^p}\big(t(1-t)^p+(1-t)t^p\big).
}
}\end{corollary*}}
             {\begin{corollary}\label{C{13}}{Let $0\leq p\leq1$ be an arbitrary constant. Then, for all $t\in[0,1]$,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
t(1-t)^p+(1-t)t^p\leq T_p(t)
}
and, provided that $p<1$,
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
 T_p(t)\leq \frac{2}{2-2^p}\big(t(1-t)^p+(1-t)t^p\big).
}
}\end{corollary}}}

The proof of the next theorem is analogous to that in \cite{HazPal05}.

{\ifthenelse{\equal{{10}}{*}}{\begin{theorem*}{Let $\varphi:D^+\to{\mathbb{R}}_+$ be nondecreasing. If $f : D\to {\mathbb{R}}$ is $\varphi$-midconvex and locally
bounded from above at a point of $D$, then $f$ is locally bounded from above on $D.$}\end{theorem*}}
  {\begin{theorem}\label{T{10}}{Let $\varphi:D^+\to{\mathbb{R}}_+$ be nondecreasing. If $f : D\to {\mathbb{R}}$ is $\varphi$-midconvex and locally
bounded from above at a point of $D$, then $f$ is locally bounded from above on $D.$}\end{theorem}}}

The following theorem generalizes the analogous result of the paper \cite{HazPal05}
obtained for $({\varepsilon},p)$-convexity. A similar result was also established by Tabor and Tabor
\cite{TabTab09b}, \cite{TabTab09a}.

{\ifthenelse{\equal{{H7}}{*}}{\begin{theorem*}{Let $f:D\to {\mathbb{R}}$ be locally bounded from above at a point of $D$ and
let $\varphi:\frac12 D^+\to{\mathbb{R}}_+$ be nondecreasing. Then $f$ is $\varphi$-midconvex on $D$,
i.e., {{\rm(\ref{E{1b}})}} holds for all $x,y\in D$ if and only if
{\ifthenelse{\equal{{H7a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{H7a}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y)\leq tf(x)+(1-t)f(y)+{\mathscr{T}}_\varphi(t,\|x-y\|)
}
for all $x,y\in D$ and $t\in [0,1].$}\end{theorem*}}
  {\begin{theorem}\label{T{H7}}{Let $f:D\to {\mathbb{R}}$ be locally bounded from above at a point of $D$ and
let $\varphi:\frac12 D^+\to{\mathbb{R}}_+$ be nondecreasing. Then $f$ is $\varphi$-midconvex on $D$,
i.e., {{\rm(\ref{E{1b}})}} holds for all $x,y\in D$ if and only if
{\ifthenelse{\equal{{H7a}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{H7a}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y)\leq tf(x)+(1-t)f(y)+{\mathscr{T}}_\varphi(t,\|x-y\|)
}
for all $x,y\in D$ and $t\in [0,1].$}\end{theorem}}}

\begin{proof} Assume that $f$ is $\varphi$-midconvex on $D$ and locally bounded from above
at a point of $D$. From {Theorem~\ref{T{10}}}, it follows that $f$ is locally bounded from above
at each point of $D.$
Thus $f$ is bounded from above on each compact subset of $D,$ in particular, for each
fixed $x,y\in D$, $f$ is bounded from above on $[x,y]=\{tx+(1-t)y\mid t\in[0, 1]\}$.
Denote by $K_{x,y}$ a finite upper bound of the function
{\ifthenelse{\equal{{11b}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{11b}}
\end{aligned}\end{equation}}}{
t\mapsto f(tx +(1-t)y)-tf(x)-(1-t)f(y) \qquad (t \in [0, 1]).
}
We are going to show, by induction on $n$, that
{\ifthenelse{\equal{{11c}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{11c}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y) \leq tf(x)+(1-t)f(y)+\frac{K_{x,y}}{2^n}
             +\sum_{j=0}^{n-1}\frac{\varphi\big(d_{\mathbb{Z}}(2^{j}t)\|x-y\|\big)}{2^{j}}
}
for all $x, y \in D$ and $t \in [0, 1].$
For $n = 0,$ the statement follows from the definition of $K_{x,y}$ (with the convention
that the summation for $j=0$ to $(-1)$ is equal to zero).

Now assume that {{\rm(\ref{E{11c}})}} is true for some $n \in {\mathbb{N}}.$ Assume that $t\in [0,1/2].$
Then, due to the $\varphi$-midconvexity of $f,$ we get
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y) = f \Big(\frac{y+(2tx+(1-2t)y)}{2}\Big)
\leq \frac{f(y)+f(2tx+(1-2t)y)}{2}+\varphi(t\|x-y\|).
}
On the other hand, by ${{\rm(\ref{E{11c}})}}$, we get that
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(2tx+(1-2t)y)\leq 2tf(x)+(1-2t)f(y)+\frac{K_{x,y}}{2^n}
   +\sum_{j=0}^{n-1}\frac{\varphi\big(d_{\mathbb{Z}}(2^{j+1}t)\|x-y\|\big)}{2^{j}}.
}
Combining these two inequalities, we obtain
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
f(tx+(1-t)y)&\leq tf(x)+ (1-t)f(y)+\frac{1}{2}\bigg(\frac{K_{x,y}}{2^n}
          +\sum_{j=0}^{n-1}\frac{\varphi\big(d_{\mathbb{Z}}(2^{j+1}t)\|x-y\|\big)}{2^{j}}\bigg)+\varphi(t\|x-y\|)\\
            &= tf(x) + (1-t)f(y)+\frac{K_{x,y}}{2^{n+1}}
              +\sum_{j=0}^{n}\frac{\varphi\big(d_{\mathbb{Z}}(2^{j}t)\|x-y\|\big)}{2^{j}}.
}
In the case $t\in[1/2,1]$, the proof is similar.
Thus, {{\rm(\ref{E{11c}})}} is proved for all $n\in{\mathbb{N}}$.

Finally, taking the limit $n\to \infty$ in {{\rm(\ref{E{11c}})}}, we get the desired inequality {{\rm(\ref{E{H7a}})}}.

To see that {{\rm(\ref{E{H7a}})}} implies the $\varphi$-midconvexity of $f$, substitute $t=1/2$ into {{\rm(\ref{E{H7a}})}}
and use the easy-to-see identity ${\mathscr{T}}_\varphi\big(\frac12,u\big)=\varphi(\frac{|u|}{2})$ ($u\in{\mathbb{R}}$).
\end{proof}

The optimality of the error term in {{\rm(\ref{E{H7a}})}} and the appropriate convexity properties of
${\mathscr{T}}_\varphi$ have recently been obtained in \cite{MakPal10b}.

{\ifthenelse{\equal{{8}}{*}}{\begin{theorem*}{Let $\varphi:D^+\to {\mathbb{R}}_+$ be nondecreasing with $\varphi(s)>0$ for $s>0$
and assume that $\gamma_\varphi:={\mathop{\mbox{\rm sup}}}_{0<s\in\frac12D^+}\frac{\varphi(2s)}{\varphi(s)}<2.$
If $f:D\to {\mathbb{R}}$ is locally bounded from above a point of $D$ and it is also
$\varphi$-midconvex, then $f$ is $\big(\frac{2}{2-\gamma_\varphi}\cdot\varphi\big)$-convex on $D$.}\end{theorem*}}
  {\begin{theorem}\label{T{8}}{Let $\varphi:D^+\to {\mathbb{R}}_+$ be nondecreasing with $\varphi(s)>0$ for $s>0$
and assume that $\gamma_\varphi:={\mathop{\mbox{\rm sup}}}_{0<s\in\frac12D^+}\frac{\varphi(2s)}{\varphi(s)}<2.$
If $f:D\to {\mathbb{R}}$ is locally bounded from above a point of $D$ and it is also
$\varphi$-midconvex, then $f$ is $\big(\frac{2}{2-\gamma_\varphi}\cdot\varphi\big)$-convex on $D$.}\end{theorem}}}

\begin{proof}
By {Proposition~\ref{P{8}}} and by {Theorem~\ref{T{H7}}}, the proof of this theorem is evident.
\end{proof}

{\ifthenelse{\equal{{9}}{*}}{\begin{corollary*}{Let $\mu$ be a nonnegative and nonzero finite Borel measure on $[0,1]$.
Denote $\alpha:={\mathop{\mbox{\rm sup}}} D^+$ and $p_0:={\mathop{\mbox{\rm sup}}}({\mathop{\mbox{\rm supp}}}\mu)$
and assume that either $\alpha<\infty$ and $\mu$ is not concentrated at the
singleton $\{1\}$ or $p_0<1$. Define $\varphi:D^+\to {\mathbb{R}}_+$ by
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\varphi(s):=\int_{[0,1]}s^pd\mu(p) \quad \mbox{for all} \quad s\in D^+.
}
If $f:D\to {\mathbb{R}}$ is locally bounded from above a point of $D$ and it is also $\varphi$-midconvex,
then $f$ is $\big(\frac{2}{2-\gamma_{\varphi}}\cdot \varphi\big)$-convex on $D$, where $\gamma_\varphi$
is given by {{\rm(\ref{E{gp}})}}.}\end{corollary*}}
             {\begin{corollary}\label{C{9}}{Let $\mu$ be a nonnegative and nonzero finite Borel measure on $[0,1]$.
Denote $\alpha:={\mathop{\mbox{\rm sup}}} D^+$ and $p_0:={\mathop{\mbox{\rm sup}}}({\mathop{\mbox{\rm supp}}}\mu)$
and assume that either $\alpha<\infty$ and $\mu$ is not concentrated at the
singleton $\{1\}$ or $p_0<1$. Define $\varphi:D^+\to {\mathbb{R}}_+$ by
{\ifthenelse{\equal{{*}}{*}}
  {\begin{equation*}\begin{aligned}
\end{aligned}\end{equation*}}
  {\begin{equation}\begin{aligned}\label{E{*}}
\end{aligned}\end{equation}}}{
\varphi(s):=\int_{[0,1]}s^pd\mu(p) \quad \mbox{for all} \quad s\in D^+.
}
If $f:D\to {\mathbb{R}}$ is locally bounded from above a point of $D$ and it is also $\varphi$-midconvex,
then $f$ is $\big(\frac{2}{2-\gamma_{\varphi}}\cdot \varphi\big)$-convex on $D$, where $\gamma_\varphi$
is given by {{\rm(\ref{E{gp}})}}.}\end{corollary}}}

{\ifthenelse{\equal{{10}}{*}}{\begin{corollary*}{Let $0\leq p<1$ and ${\varepsilon}\geq 0$ be arbitrary constants. 
If $f:D\to {\mathbb{R}}$ is locally bounded from above a point of $D$ and it is also $({\varepsilon},p)$-midconvex, 
then $f$ is $\big(\frac{2{\varepsilon}}{2-2^p},p\big)$-convex on $D$.}\end{corollary*}}
             {\begin{corollary}\label{C{10}}{Let $0\leq p<1$ and ${\varepsilon}\geq 0$ be arbitrary constants. 
If $f:D\to {\mathbb{R}}$ is locally bounded from above a point of $D$ and it is also $({\varepsilon},p)$-midconvex, 
then $f$ is $\big(\frac{2{\varepsilon}}{2-2^p},p\big)$-convex on $D$.}\end{corollary}}}

\begin{thebibliography}{10}

\bibitem{Acz47a}
J.~AczÃ©l.
\newblock A generalization of the notion of convex functions.
\newblock {\em Norske Vid. Selsk. Forh., Trondhjem}, 19(24):87--90, 1947.

\bibitem{BerDoe15}
F.~Bernstein and G.~Doetsch.
\newblock Zur {T}heorie der konvexen {F}unktionen.
\newblock {\em Math. Ann.}, 76(4):514--526, 1915.

\bibitem{Bor08}
Z.~Boros.
\newblock An inequality for the {T}akagi function.
\newblock {\em Math. Inequal. Appl.}, 11(4):757--765, 2008.

\bibitem{CasPap93}
E.~Casini and P.~L. Papini.
\newblock A counterexample to the infinity version of the {H}yers-{U}lam
  stability theorem.
\newblock {\em Proc. Amer. Math. Soc.}, 118:885--890, 1993.

\bibitem{Cho84a}
P.~W. Cholewa.
\newblock The stability problem for a generalized {C}auchy type functional
  equation.
\newblock {\em Rev. Roumaine Math. Pures Appl.}, 29(6):457--460, 1984.

\bibitem{DilHowRob99}
S.~J. Dilworth, R.~Howard, and J.~W. Roberts.
\newblock Extremal approximately convex functions and estimating the size of
  convex hulls.
\newblock {\em Adv. Math.}, 148(1):1--43, 1999.

\bibitem{DilHowRob02}
S.~J. Dilworth, R.~Howard, and J.~W. Roberts.
\newblock Extremal approximately convex functions and the best constants in a
  theorem of {H}yers and {U}lam.
\newblock {\em Adv. Math.}, 172(1):1--14, 2002.

\bibitem{DilHowRob06}
S.~J. Dilworth, R.~Howard, and J.~W. Roberts.
\newblock A general theory of almost convex functions.
\newblock {\em Trans. Amer. Math. Soc.}, 358(8):3413--3445 (electronic), 2006.

\bibitem{Ger88c}
R.~Ger.
\newblock Almost approximately convex functions.
\newblock {\em Math. Slovaca}, 38(1):61--78, 1988.

\bibitem{Ger94e}
R.~Ger.
\newblock Stability aspects of delta-convexity.
\newblock In {\em Stability of mappings of Hyers-Ulam type}, pages 99--109.
  Hadronic Press, Palm Harbor, FL, 1994.

\bibitem{Gre52}
J.~W. Green.
\newblock Approximately convex functions.
\newblock {\em Duke Math. J.}, 19:499--504, 1952.

\bibitem{HyeIsaRas98a}
D.~H. Hyers, G.~Isac, and Th.~M. Rassias.
\newblock {\em Stability of {F}unctional {E}quations in {S}everal {V}ariables}.
\newblock Progress in Nonlinear Differential Equations and their Applications,
  34. BirkhÃ¤user Boston Inc., Boston, MA, 1998.

\bibitem{HyeUla52}
D.~H. Hyers and S.~M. Ulam.
\newblock Approximately convex functions.
\newblock {\em Proc. Amer. Math. Soc.}, 3:821--828, 1952.

\bibitem{Haz05a}
A.~HÃ¡zy.
\newblock On approximate $t$-convexity.
\newblock {\em Math. Inequal. Appl.}, 8(3):389--402, 2005.

\bibitem{Haz07a}
A.~HÃ¡zy.
\newblock On stability of $t$-convexity.
\newblock In {\em Proc. MicroCAD 2007 Int. Sci. Conf.}, volume~G, pages 23--28,
  2007.

\bibitem{Haz07b}
A.~HÃ¡zy.
\newblock On the stability of $t$-convex functions.
\newblock {\em Aequationes Math.}, 74(3):210--218, 2007.

\bibitem{HazPal04}
A.~HÃ¡zy and Zs. PÃ¡les.
\newblock On approximately midconvex functions.
\newblock {\em Bull. London Math. Soc.}, 36(3):339--350, 2004.

\bibitem{HazPal05}
A.~HÃ¡zy and Zs. PÃ¡les.
\newblock On approximately $t$-convex functions.
\newblock {\em Publ. Math. Debrecen}, 66:489--501, 2005.

\bibitem{HazPal09}
A.~HÃ¡zy and Zs. PÃ¡les.
\newblock On a certain stability of the {H}ermite--{H}adamard inequality.
\newblock {\em Proc. R. Soc. Lond. Ser. A Math. Phys. Eng. Sci.}, 465:571--583,
  2009.

\bibitem{Kuc70a}
M.~Kuczma.
\newblock Almost convex functions.
\newblock {\em Colloq. Math.}, 21:279--284, 1970.

\bibitem{Kuc85}
M.~Kuczma.
\newblock {\em An {I}ntroduction to the {T}heory of {F}unctional {E}quations
  and {I}nequalities}, volume 489 of {\em Prace Naukowe Uniwersytetu
  ÅlÄskiego w Katowicach}.
\newblock PaÅstwowe Wydawnictwo Naukowe --- Uniwersytet ÅlÄski,
  Warszawa--KrakÃ³w--Katowice, 1985.

\bibitem{Lac99}
M.~Laczkovich.
\newblock The local stability of convexity, affinity and of the {J}ensen equation.
\newblock {\em Aequationes Math.}, 58:135--142, 1999.

\bibitem{MakPal10b}
J.~MakÃ³ and Zs. PÃ¡les.
\newblock Approximate convexity of {T}akagi type functions.
\newblock {\em J. Math. Anal. Appl.}, 369:545--554, 2010.

\bibitem{MakPal11b}
J.~MakÃ³ and Zs. PÃ¡les.
\newblock On approximately convex {T}akagi type functions.
\newblock manuscript.

\bibitem{MakPal11a}
J.~MakÃ³ and Zs. PÃ¡les.
\newblock Strengthening of strong and approximate convexity.
\newblock {\em Acta Math. Hungar.}, 132(1-2):78--91, 2011.

\bibitem{Mro01}
J.~Mrowiec.
\newblock {R}emark on approximately {J}ensen-convex functions.
\newblock {\em C. R. Math. Rep. Acad. Sci. Canada}, 23(1):16--21, 2001.

\bibitem{MroTabTab08}
J.~Mrowiec, Ja. Tabor, and JÃ³. Tabor.
\newblock Approximately midconvex functions.
\newblock In C.~Bandle, A.~GilÃ¡nyi, L.~Losonczi, M.~Plum, and Zs. PÃ¡les,
  editors, {\em Inequalities and Applications (Noszvaj, 2007)}, volume 157 of
  {\em International Series of Numerical Mathematics}, pages 261--267.
  BirkhÃ¤user Verlag, 2008.

\bibitem{NgNik93}
C.~T. Ng and K.~Nikodem.
\newblock On approximately convex functions.
\newblock {\em Proc. Amer. Math. Soc.}, 118(1):103--108, 1993.

\bibitem{Pal00b}
Zs. PÃ¡les.
\newblock Bernstein--{D}oetsch-type results for general functional inequalities.
\newblock {\em Rocznik Nauk.-Dydakt. Prace Mat.}, 17:197--206, 2000.

\bibitem{Pal03a}
Zs. PÃ¡les.
\newblock On approximately convex functions.
\newblock {\em Proc. Amer. Math. Soc.}, 131(1):243--252, 2003.

\bibitem{Rha57}
G.~de Rham.
\newblock Sur un exemple de fonction continue sans dÃ©rivÃ©e.
\newblock {\em Enseignement Math. (2)}, 3:71--72, 1957.

\bibitem{RobVar73}
A.~W. Roberts and D.~E. Varberg.
\newblock {\em Convex {F}unctions}, volume~57 of {\em Pure and Applied
  Mathematics}.
\newblock Academic Press, New York--London, 1973.

\bibitem{Rol79b}
S.~Rolewicz.
\newblock On paraconvex multifunctions.
\newblock In {\em Third Symposium on Operations Research (Univ. Mannheim,
  Mannheim, 1978), Section I}, volume~31 of {\em Operations Res. Verfahren},
  pages 539--546. Hain, K\"onigstein/Ts., 1979.

\bibitem{Rol79a}
S.~Rolewicz.
\newblock On {$\gamma $}-paraconvex multifunctions.
\newblock {\em Math. Japon.}, 24(3):293--300, 1979/80.

\bibitem{Rol05b}
S.~Rolewicz.
\newblock Paraconvex analysis.
\newblock {\em Control Cybernet.}, 34(3):951--965, 2005.

\bibitem{TabTab09b}
Ja. Tabor and JÃ³. Tabor.
\newblock Generalized approximate midconvexity.
\newblock {\em Control Cybernet.}, 38(3):655--669, 2009.

\bibitem{TabTab09a}
Ja. Tabor and JÃ³. Tabor.
\newblock Takagi functions and approximate midconvexity.
\newblock {\em J. Math. Anal. Appl.}, 356(2):729--737, 2009.

\bibitem{TabTabZol10b}
Ja. Tabor, JÃ³. Tabor, and M.~Å»oÅdak.
\newblock Approximately convex functions on topological vector spaces.
\newblock {\em Publ. Math. Debrecen}, 77:115--123, 2010.

\bibitem{TabTabZol10a}
Ja. Tabor, JÃ³. Tabor, and M.~Å»oÅdak.
\newblock Optimality estimations for approximately midconvex functions.
\newblock {\em Aequationes Math.}, 80:227--237, 2010.

\end{thebibliography}
\end{document}

