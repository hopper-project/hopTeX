\documentclass[10pt]{amsart}
\usepackage{color}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[initials]{amsrefs}
\usepackage{mathrsfs}
\usepackage{extarrows}
\usepackage{tikz-cd}
\usepackage[all]{xy}
 \usepackage[english]{babel}
 \usepackage{dsfont}

\theoremstyle{plain}
\newtheorem{thm}{Theorem}

\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem*{cor}{Corollary}

\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}
\newtheorem{note}{Note}
\newtheorem{case}{Case}

\author{Roman Sauer}
\address{Karlsruhe Institute of Technology}
\email{roman.sauer@kit.edu}

\author{Michael SchrÃ¶dl}
\address{Karlsruhe Institute of Technology}
\email{michael.schroedl@kit.edu}

\thanks{We acknowledge support by the German Science Foundation via the Research Training Group 2229.}

\subjclass[2010]{Primary 20F65; Secondary 22D99}

\keywords{Coarse geometry, locally compact groups, $\ell^2$-Betti numbers}

\title[$\ell^2$-Betti numbers and coarse equivalence]{Vanishing of $\ell^2$-Betti numbers of locally compact groups as an invariant of coarse equivalence}

\begin{document}

\begin{abstract}
We provide a short proof that the vanishing of $\ell^2$-Betti numbers of unimodular locally compact second countable groups is an invariant of coarse equivalence.
\end{abstract}

 \maketitle
 

\section{Introduction}

The insight that the vanishing of $\ell^2$-Betti numbers provides a quasi-isometry invariant is due to Gromov~\cite{gromov}*{Chapter~8}, and positive results around this insight have a long history. The most important contribution is by Pansu~\cite{pansu} whose work on asymptotic $\ell^p$-cohomology includes the fact that the 
vanishing of $\ell^2$-Betti numbers of discrete groups of type $F_\infty$, is 
a quasi-isometry invariant. 

There is a growing interest in the metric geometry of locally compact groups~\cites{cornulier-book, amhyp}. We thus think it is important to have the quasi-isometry and coarse invariance of the vanishing of $\ell^2$-Betti numbers available in the greatest generality. Following Pansu's ideas and relying on more recent advances in the theory of $\ell^2$-Betti numbers, we provide a proof of the following result. 

\begin{thm}\label{thm: main}
Let $G$ and $H$ be unimodular locally compact second countable groups. If $G$ and $H$ are coarsely equivalent then the $n$-th $\ell^2$-Betti number of $G$ vanishes if and only the $n$-th $\ell^2$-Betti number of $H$ vanishes.
\end{thm}

The coarse invariance for discrete groups was proven earlier 
in a paper of Mimura-Ozawa-Sako-Suzuki~\cite{taka}*{Corollary~6.3}. 

Every locally compact, second countable group $G$ (hereafter abbreviated by $\textbf{lcsc}$) has a left-invariant proper continuous metric by a theorem of Struble~\cite{struble}. As any two left-invariant proper continuous metrics on $G$ are coarsely equivalent, every lcsc group has a well defined coarse geometry.     
Further, any coarse equivalence between compactly generated lcsc groups is a quasi-isometry with respect to word metrics of compact symmetric generating sets and vice versa. See~\cite{cornulier-book}*{Chapter~4} for a systematic discussion of these notions. 

To even state Theorem~\ref{thm: main} in that generality, recent advances in the theory of $\ell^2$-Betti numbers were necessary. $\ell^2$-Betti numbers of 
discrete groups enjoy a long history but it was not until recently that $\ell^2$-Betti numbers were defined for arbitrary unimodular lcsc groups by Petersen~\cite{petersen}, and a systematic theory analogous to the discrete case emerged~\citelist{\cite{petersen}\cite{petersen+kyed+vaes}\cite{petersen+sauer+thom}}. 
Earlier studies of $\ell^2$-Betti numbers
of locally compact groups in specific cases can be found
in~\cites{gaboriau-unimodular, dymara, davisetal}. 

\subsubsection*{Previous results on coarse invariance}
Pansu~\cite{pansu} introduced asymptotic $\ell^p$-co\-homo\-logy and proved
its invariance under quasi-isometries. If a group $\Gamma$ is of type $F_\infty$, then the $\ell^p$-cohomology of $\Gamma$ coincides with its asymptotic $\ell^p$-cohomology~\cite{pansu}*{Th\'{e}or\`{e}me~1}. The geometric explanation for the appearance of the type $F_\infty$ condition is that the finite-dimensional skeleta of the universal covering of a classifying space of finite type are uniformly contractible. As an immediate consequence of Pansu's result, the vanishing of $\ell^2$-Betti numbers is a quasi-isometry invariant among discrete groups of type $F_\infty$. The same arguments work for 
 totally disconnected groups admitting a topological model of finite type~\cite{sauer-survey}.

Elek~\cite{elek} investigated the relation between $\ell^p$-cohomology of discrete groups
and Roe's coarse cohomology and proved
similar results. Another independent treatment is due to Fan~\cite{fan}. Genton~\cite{genton} elaborated upon Pansu's methods in the case of metric measure spaces. 

Oguni~\cite{oguni} generalised the quasi-isometry invariance of the vanishing of $\ell^2$-Betti numbers from discrete groups of type $F_\infty$ to discrete groups whose cohomology with coefficients in the group von Neumann algebra satisfies a certain technical condition. A similar technical condition appears in the
proof of quasi-isometry invariance of Novikov-Shubin invariants of amenable groups~\cite{sauer-homology}*{}, and it is unclear how much this condition differs from the type $F_\infty$-condition.
Oguni's groupoid approach is inspired by~\cites{gaboriau, sauer-homology} and quite different from the approaches by Elek, Fan, and Pansu. 

The coarse invariance of vanishing of $\ell^2$-Betti numbers for discrete groups was shown by Mimura-Ozawa-Sako-Suzuki~\cite{taka}*{Corollary~6.3}. 
Li~\cite{li} recently reproved this using groupoid techniques as a consequence of more general cohomological coarse invariance results. 

\subsubsection*{Structure of the paper} We review the necessary basics of $\ell^2$-Betti numbers and continuous cohomology in Section~\ref{sec: continuous cohomology}. 
In Section~\ref{sec: coarse cohomology} we define coarse $\ell^2$-cohomology for lcsc groups and show that it is isomorphic to continuous cohomology. In Section~\ref{sec: quasiisometry} we conclude the proof of Theorem~\ref{thm: main}.

\section{Continuous cohomology and $\ell^2$-Betti numbers of lcsc groups}\label{sec: continuous cohomology}

Let $G$ be a unimodular lcsc group with Haar measure $\mu$. 
Let $X$ be a locally compact second countable space with Radon measure $\nu$. Let $E$ be a Fr\'{e}chet space. 

The space $C(X, E)$ of continuous functions from $X$ to $E$ becomes 
a Fr\'{e}chet space when endowed with the topology of compact convergence. 
Let ${L^2_{loc}}(X, E)$ be the space of 
equivalence classes of measurable maps $f\colon X\to E$ up to $\nu$-null sets such that $||f\vert_K||_E$ 
is square-integrable for every compact subset $K\subset X$. The $L^2$-norm of the function $||f\vert_K||_E$ defines a semi-norm $p_K$ on ${L^2_{loc}}(X, E)$. The family of semi-norms $p_K$, $K\subset E$, turns 
${L^2_{loc}}(X, E)$ into a Fr\'{e}chet space. 

We call a Fr\'{e}chet space $E$ with a continuous (i.e.~$G\to E$, $g\mapsto gv$,	 is continuous for every $v\in E$) linear $G$-action a \emph{$G$-module}.  A continuous linear $G$-equivariant map between $G$-modules is a \emph{homomorphism of $G$-modules}. 
If $E$ is a $G$-module and $G$ acts continuously and $\nu$-preserving on $X$ then $C(X, E)$ and 
${L^2_{loc}}(X, E)$ become $G$-modules via 
$(g\cdot f)(x)=gf(g^{-1}x)$ for $x\in X$ and $g\in G$~\cite{blanc}*{Proposition~3.1.1}. 
The usual homogeneous coboundary map
    \begin{equation}\label{eq: coboundary operator}
    d^{n-1} f(g_0,...,g_n)=\sum_{i=0}^n(-1)^i f(g_0,...,\widehat{g_i},...,g_n)
    \end{equation}
defines cochain complexes $C(G^{*+1},E)$ and ${L^2_{loc}}(G^{\ast +1},E)$ of $G$-modules (cf.~\cite{blanc}*{Proposition~3.2.1}). Here we take the diagonal $G$-action on $G^{\ast+1}$. We recall the following definition. 
\begin{defn}
The \emph{(continuous) cohomology} of $G$ in $E$ is the 
cohomology \[ H^n(G, E)=H^n\bigl( C(G^{*+1},E)^G\bigr)\]
of the $G$-invariants of $C(G^{*+1},E)$. The \emph{reduced (continuous) cohomology} $\underline{H}^*(G,E)$ is a quotient of $H^\ast(G,E)$ obtained by taking the quotient with the closure of ${\operatorname{im}} d^{\ast-1}$ instead of ${\operatorname{im}} d^{\ast-1}$.
\end{defn}

We have an obvious inclusion 
\begin{equation}\label{eq: comparision map}
 I^*:C(G^{*+1},E)\to L_{loc}^2(G^{*+1},E).
 \end{equation}
The maps $I^\ast$ form a cochain map of $G$-modules. Taking 
a positive function $\chi\in C_c(G)$ there is a cochain map $R^*:L_{loc}^2(G^{*+1},E)\to C(G^{*+1},E)$ of $G$-modules 
\[ (R^nf)(g_0,...,g_n)=\int_{G^{n+1}}f(h_0,...,h_n)\chi(g_0^{-1}h_0)\cdot ...\cdot\chi(g_n^{-1}h_n)d\mu(h_0,...,h_n) \]
such that $I^*\circ R^*$ and $R^*\circ I^*$ are homotopic (as cochain maps of $G$-modules) to the identity \cite[Proposition 4.8]{blanc}. 
So we have the following useful fact: 

\begin{thm}\label{thm: iso from continuous to loc}
The cochain map $I^\ast$ in~\eqref{eq: comparision map} induces 
isomorphisms in cohomology and in reduced cohomology. 
\end{thm}

Next we turn to the case where the coefficient module $E=L^2(G)$ is the 
regular representation, relevant for the definition of $\ell^2$-Betti numbers. 

Let $L(G)$ be the \emph{von Neumann algebra of $G$}; the Haar measure $\mu$ defines a semifinite trace ${\operatorname{tr}}_\mu$ on $L(G)$. There are a natural left $G$-action and a natural right $L(G)$-action on $L^2(G)$, and the two actions commute. Hence also the $G$-actions on 
$C(G^{\ast+1}, L^2(G))$ and ${L^2_{loc}}(G^{\ast+1}, L^2(G))$ considered previously and the $L(G)$-actions induced from the right $L(G)$-action on $L^2(G)$ commute. So the (reduced and non-reduced) continuous cohomology of $G$ in $L^2(G)$ is naturally a $L(G)$-module\footnote{When talking about $L(G)$-modules we mean the algebraic module structure and ignore topologies.}. Obviously, the cochain map $I^\ast$ above is compatible with the $L(G)$-module structures. The groups 
	$H^\ast(G, L^2(G))$ are called the \emph{(continuous)} $\ell^2$-cohomology of $G$. Similarly for the reduced cohomology. 

  Petersen~\cite{petersen} extended L\"uck's dimension function from finite von Neumann algebras to semifinite von Neumann algebras. The dimension function ${\operatorname{dim}}_\mu$ with respect to $(G,\mu)$ is a non-trivial dimension for (algebraic) right $L(G)$-modules that is additive for short exact sequences of $L(G)$-modules.
    It scales as ${\operatorname{dim}}_{c\mu}=c^{-1}{\operatorname{dim}}_{\mu}$ for $c>0$.
    The fact that a $L(G)$-module has dimension zero can be expressed without referring to the trace: it is an algebraic fact.
    The following criterion was shown by the first author for finite von Neumann algebras~\cite{sauer-groupoids}*{Theorem~2.4}; it was extended to the semifinite case by Petersen~\cite{petersen}*{Lemma~B.27}.

    \begin{thm}\label{thm: local criterion}
	    An $L(G)$-module $M$ satisfies ${\operatorname{dim}}_\mu(M)=0$ if and only if
	    for every $x\in M$ there is an increasing sequence $(p_i)$ of projections in $L(G)$ with $\sup p_i=1$
	    such that $xp_i=0$ for every $i\in {{\mathbb N}}$.
    \end{thm}
\begin{defn}
    The $n$-th $\ell^2$-\emph{Betti number of} $G$ is the
    $L(G)$-dimension of its reduced continuous cohomology with coefficients in $L^2(G)$, i.e.
    \[ {\beta_{(2)}}^n(G):={\operatorname{dim}}_\mu \underline{H}^n(G,L^2(G))\in [0,\infty].\]
\end{defn}
\begin{rem}\label{rem: equivalent definitions of l2-Betti}
Equivalently, the $n$-th $\ell^2$-Betti number can be defined
as the $L(G)$-dimension of the
non-reduced cohomology $H^n(G, L^2(G))$. This is a non-trivial fact  (see~\cite{petersen+kyed+vaes}*{Theorem~A}). For discrete $G$, our definition coincides with L\"uck's definition in~\cite{luck}. Again, this is non-trivial and shown in~\cite{peterson+thom}*{Theorem~2.2}.
\end{rem}

The following lemma was observed in~\cite{petersen}*{Proposition~3.8}.
Since it is a direct consequence of Theorem~\ref{thm: local criterion} we present the argument.

\begin{lem}\label{lem: vanishing of reduced cohomology and l2 betti}
${\beta_{(2)}}^n(G)=0 \Leftrightarrow \underline{H}^n(G, L^2(G))=0.$
\end{lem}

\begin{proof}
Let ${\beta_{(2)}}^n(G)=0$. Let $f\colon G^{n+1}\to L^2(G)$ be a cocycle representing a cohomology class $[f]$ in $\underline{H}^n(G, L^2(G))$.
By Theorem~\ref{thm: local criterion} there is an increasing sequence of projections $p_j\in L(G)$ whose supremum is $1$ such that each $fp_j$ is a coboundary $d^{n-1}b_j$. It is clear that $fp_j=d^{n-1}b_j$ converges to $f$ in the topology of $C(G^{n+1}, L^2(G))$, thus $[f]=0$.
\end{proof}

\section{Coarse equivalence and coarse $\ell^2$-cohomology}\label{sec: coarse cohomology}

Let $G$ be a unimodular lcsc group. We fix a left-invariant proper continuous metric $d$ on $G$. Let $\mu$ be a Haar measure on $G$. Let $\mu_{n}$ be the $n$-fold product measure of $\mu$ on $G^n$. 

 For every $R>0$ and $n\in\mathbb{N}_0$ we consider the closed subset
\[G_R^n:=\lbrace(g_0,...,g_{n-1})\in G^{n}\;|\;d(g_i,g_j)\leq R\text{ for all }0\leq i,j\leq n\!-\!1 \rbrace\]
and a family of semi-norms for measurable maps $\alpha\colon G^{n+1}\to\mathbb{C}$ defined by
\[\|\alpha\|_R^2=\int_{G_R^{n+1}}|\alpha(g_0,...,g_n)|^2d\mu_{n+1}\in [0,\infty].\]

Let ${CX_{(2)}}^{n}(G)$ be the space of equivalence 
classes (up to $\mu_{n+1}$-null sets) of measurable maps $\alpha\colon G^{n+1}\to\mathbb{C}$  such that $\|\alpha\|_R<\infty$ for every $R>0$. The semi-norms $\|\_\|_R$, $R>0$, turn ${CX_{(2)}}^{n}(G)$ into a 
Fr\'{e}chet space. It is straightforward to verify that the 
homogeneous differential~\eqref{eq: coboundary operator} 
yields a well-defined, continuous homomorphism 
${CX_{(2)}}^{n}(G)\to {CX_{(2)}}^{n+1}(G)$ (cf.~\cite{genton}*{Proposition~2.3.3}). 
Thus we obtain a cochain complex of Fr\'{e}chet spaces. 

\begin{defn} The \emph{coarse $\ell^2$-cohomology of $G$} is defined as 
\[{HX_{(2)}}^n(G)=H^n\bigl({CX_{(2)}}^\ast(G)\bigr).\]
By taking the quotients by the closure of the differentials, one defines similarly the \emph{reduced coarse $\ell^2$-cohomology} $\underline{H}X_{(2)}^n(G)$. 
\end{defn}

\begin{rem}
The previous definition is the continuous analog of Elek's definition~\cite{elek}*{Definition~1.3} in the discrete case (Elek gives credits to Roe~\cite{roe}). 
It is very much related to Pansu's \emph{asymptotic $\ell^2$-cohomology}~\cite{pansu}, which was considered in the generality of metric measure spaces 
by Genton~\cite{genton}. The difference of our definition to the one in Genton~\cite{genton} is as follows: ${CX_{(2)}}^\ast(G)$ is an inverse limit of spaces $L^2(G^{\ast+1}_R)$. Unlike us, Genton takes first the cohomology of $L^2(G^{\ast+1}_R)$ and then the inverse limit. Under some uniform contractibility assumptions the two definitions coincide but likely not in general. 
\end{rem}

 \begin{thm}\label{iso of continuous and coarse coho}
 Let $G$ be a unimodular lcsc group. For every $n\ge 0$, there are isomorphisms of abelian groups 
 \begin{align*}
 H^n(G,L^2(G))\cong {HX_{(2)}}^n(G),\\
\underline{H}^n(G,L^2(G))\cong {\underline{H}X_{(2)}}^n(G).
 \end{align*}
\end{thm}

\begin{proof}
We have the obvious embedding 
\[{L^2_{loc}}(G^{n+1}, L^2(G))\subset {L^2_{loc}}(G^{n+1}, {L^2_{loc}}(G))\] 
and the exponential law (see~\cite{blanc}*{Lemme 1.4} for a proof but beware of the typo in the statement)
\[ {L^2_{loc}}(G^{n+1}, {L^2_{loc}}(G))\cong {L^2_{loc}}(G^{n+1}\times G).\]
Thus an element in ${L^2_{loc}}(G^{n+1}, L^2(G))^G$ is represented by a 
measurable complex function in $(n+2)$-variables. 
For $\alpha\in {L^2_{loc}}(G^{n+1}, L^2(G))^G$ we define $\mu_{n+2}$-almost everywhere 
\[F^{n}(\alpha)(x_0,\ldots, x_n, x)=\alpha(x^{-1}x_0,\ldots, x^{-1}x_n)(x).\]
The measurable function $F^{n}(\alpha)$ is invariant by translation in the $(n+2)$-th variable. 
By Fubini's theorem we may regard $F^{n}(\alpha)$ as 
a measurable function $E^{n}(\alpha)\colon G^{n+1}\to{{\mathbb C}}$ in the first $(n+1)$-variables. We may think of $E^n(\alpha)$ as an evaluation of $\alpha$ at $e$. 
Let $B(R)$ denote the $R$-ball around $e\in G$. 
Next we show 
that $\|E^n(\alpha)\|_R<\infty$ for every $R>0$, thus $E^n(\alpha)\in {CX_{(2)}}^n(G)$. 

Since $\alpha\in {L^2_{loc}}(G^{n+1}, L^2(G))^G$ we have 
\begin{align*}
 \infty&>	 \int_{B(2R)^{n+1}} \int_{G}
		 |\alpha(x_0,x_1,...,x_n)(x)|^2d\mu d\mu_{n+1}\\
	   &= \int_{B(2R)^{n+1}} \int_{G}
		 |\alpha(x,xx_0^{-1}x_1,...,xx_0^{-1}x_n)(x_0)|^2d\mu d\mu_{n+1}.
\end{align*}
The map 
\[m\colon G^{n+2}\to G^{n+2}, (x_0,\ldots, x_n, x)\mapsto (x, xx_0^{-1}x_1, \ldots, xx_0^{-1}x_n, x_0)\]
is measure preserving. Further, we have 
\[ m\bigl( G_R^{n+1}\times B(R)\bigr)\subset B(2R)^{n+1}\times G.\] 
This implies the first inequality below. The first equality follows from the fact that $(x_0,\dots, x_n,x)\mapsto (x^{-1}x_0, \dots, x^{-1}x_n,x)$ is a measure preserving measurable automorphism of $G_R^{n+1}\times B(R)$. 
\begin{align*}
	   \int_{B(2R)^{n+1}} \int_{G}
		 |\alpha(x,xx_0^{-1}x_1,...,&xx_0^{-1}x_n)(x_0)|^2d\mu d\mu_{n+1}\\
	   &\ge \int_{G_R^{n+1}}\int_{B(R)} |\alpha(x_0, \dots, x_n)(x)|^2d\mu d\mu_{n+1} \\
	   &=\int_{G_R^{n+1}}\int_{B(R)} |\alpha(x^{-1}x_0, \dots, x^{-1}x_n)(x)|^2d\mu d\mu_{n+1} \\
	   &=\mu(B(R))\|E^n(\alpha)\|_R.
\end{align*}

Hence $\|E^n(\alpha)\|_R$ is finite for every $R>0$. 
That $E^\ast\colon {L^2_{loc}}(G^{\ast+1}, L^2(G))^G\to {CX_{(2)}}^\ast(G)$ defines a cochain map is obvious. The above computation also implies that 
$E^\ast$ is continuous with respect to the Fr\'{e}chet topologies. 

Given $\beta\in {CX_{(2)}}^n(G)$ we define 
\[M^n(\beta)(g_0,\ldots, g_n)(g)=\beta(g^{-1}g_0, \ldots, g^{-1}g_n)\]
for $\mu_{n+2}$-almost every $(g_0,\ldots, g_n,g)$. The function 
$M^n(\beta)$ defines an element in ${L^2_{loc}}(G^{n+1}, L^2(G))^G$. The $G$-invariance of $M^n(\beta)$ is obvious. We have to show that $\|M^n(\beta)\vert_{B(R)^{n+1}}\|$ is square-integrable for every $R>0$. This  follows from the following computations which is based on the arguments above in reversed order. 

\begin{align*}
\mu(B(R))\int_{G_{2R}^{n+1}} |\beta(g_0,...,g_n)|^2 d\mu_{n+1}
	      & =\int_{G_{2R}^{n+1}}\int_{B(R)} |\beta(g_0,...,g_n)|^2 d\mu d\mu_{n+1}\\
	      & \ge\int_{B(R)^{n+1}}\int_G |\beta(g^{-1}g_0,\dots, g^{-1}g_n)|d\mu  d\mu_{n+1}
\end{align*}
Obviously, $M^\ast$ is a chain map. Continuity follows from the previous computation. It is clear that $M^\ast$ and $E^\ast$ are mutual inverses. Using 
Theorem~\ref{thm: iso from continuous to loc}, this concludes the proof. 
\end{proof}

\section{Coarse invariance}\label{sec: quasiisometry}
We recall the notion of coarse equivalence. A map $f\colon (X,d_X)\to (Y,d_Y)$ between metric spaces is \emph{coarse Lipschitz} if there 
is a non-decreasing function $a\colon [0,\infty)\to [0,\infty)$ with $\lim_{t\to\infty} a(t)=\infty$ such that 
\[ d_Y(f(x), f(x'))\le a(d(x,x'))\] 
for all $x,x'\in X$. We say that two such maps $f,g$ are \emph{close} 
if \[\sup_{x\in X} d_Y(f(x), g(x))<\infty.\]  
A coarse Lipschitz map $f\colon X\to Y$ is a \emph{coarse equivalence} if there is a coarse Lipschitz map $g\colon Y\to X$ such that $fg$ and $gf$ are close to the identity. We say $g$ is a \emph{coarse inverse} of $f$. 
\begin{lem}\label{coarse equivalences are measurable}
Coarsely equivalent lcsc groups are measurably coarse equivalent, i.e.~if $G$ and $H$ are coarse equivalent lcsc groups then there are \emph{measurable} coarse Lipschitz maps $f\colon G\to H$ and $g\colon H\to G$ such that $fg$ and $gf$ are close to the identity.
\end{lem}

\begin{proof}
We choose left-invariant continuous proper metrics $d_G$ and $d_H$ on $G$ and $H$, respectively. Let $f\colon G\to H$ be a coarse Lipschitz map with $d_H(f(x), f(x'))\leq a(d_G(x,x'))$. Let $t>0$. We pick a countable measurable partition $\mathcal{U}$ of $G$ whose elements have diameter $\le t$ and choose an element $x_U\in U$ for every $U\in \mathcal{U}$.
By setting $\tilde{f}(x)=f(x_U)$ for $x\in U$ we obtain a coarse Lipschitz map $\tilde{f}\colon G\to H$ which satisfies 
$d(\tilde{f}(x),\tilde{f}(x'))\le a(d(x,x')+2t)$
and is close to $f$ with $d(\tilde{f}(x),f(x))\leq a(2t)$. Analogously, we construct  a measurable coarse Lipschitz map $\tilde{g}$, constructed from a coarse Lipschitz map $g\colon H\to G$ which is a coarse inverse to $f$. It is obvious that $\tilde{g}$ is a coarse inverse to $\tilde{f}$.
\end{proof}
\begin{thm}\label{qi invariance of HX}
Coarsely equivalent unimodular lcsc groups have isomorphic reduced and non-reduced coarse $\ell^2$-cohomology groups.
\end{thm}
\begin{proof}
Let $G$ and $H$ lcsc groups with Haar measures $\mu$ and $\nu$, respectively. Let  $f\colon G\to H$ be a coarse equivalence with coarse inverse $g$. Because of lemma \ref{coarse equivalences are measurable} we can further assume that $f$ and $g$ are measurable. We define a map $\chi\colon G\times G \to \mathbb{R}$ by
\begin{align*}
\chi(x,y)=\frac{\mathds{1}_{B_x(c)}(y)}{\mu(B(c))}
\end{align*}
where we choose $c$ such that $\mu(B(c))\ge 1$. Then $\chi$ is a measurable function with
$\chi(x,y)=\chi(y,x)$ and $\int_G \chi(x,y)d\mu(y)=1$. We use the following notation:
\[\chi\colon G^{n+1}\times G^{n+1}\to \mathbb{R},\;\;\;\chi((x_0,...,x_n),(y_0,...,y_n))=\chi(x_0,y_0)\cdot...\cdot \chi(x_n,y_n).\]
 Analogously, we define $\chi'\colon H^{n+1}\times H^{n+1} \to \mathbb{R}$ with some radius $c'$. Now we can define the maps $f^*\colon {HX_{(2)}}^*(H)\to {HX_{(2)}}^*(G)$ and $g^*\colon{HX_{(2)}}^*(G)\to {HX_{(2)}}^*(H)$ as follows where we use $x_i$ for elements in $G$ and $y_i$ for elements of $H$:
\begin{align*}
f^*\alpha(x_0,...,x_n)&=\int_{H^{n+1}} \alpha(y_0,...,y_n)\chi'\left((f(x_0),...,f(x_n)),(y_0,...,y_n)\right)d\nu_{n+1}\\
g^*\beta(y_0,...,y_n)&=\int_{G^{n+1}} \beta(x_0,...,x_n)\chi\left((g(y_0),...,g(y_n)),(x_0,...,x_n)\right)d\mu_{n+1}.
\end{align*}
The idea of averaging over a function like $\chi$ goes back to Pansu; it is necessary in our context since the maps $f$ and $g$ do not preserve the measure classes, in general. 

First of all, we check that these are well-defined continuous cochain maps.
\begin{align*}
\infty &>\|\alpha\|^2_{a(R)+c'}=\int_{H^{n+1}}|\alpha(y_0,...,y_n)|^2\cdot \mathds{1}_{H^n_{a(R)+c'}}d\nu_{n+1} \\
&\ge \int_{H^{n+1}}|\alpha(y_0,...,y_n)|^2\int_{G_R^{n+1}}\chi'\left((f(x_0),...,f(x_n)),(y_0,...,y_n)\right)d\mu_{n+1}d\nu_{n+1}\\
&=\int_{G_R^{n+1}}\int_{H^{n+1}}\left| \alpha(y_0,...,y_n)\right|^2\chi'\left((f(x_0),...,f(x_n)),(y_0,...,y_n)\right)d\nu_{n+1}d\mu_{n+1} \\
&\ge \int_{G_R^{n+1}}\left|\int_{H^{n+1}} \alpha(y_0,...,y_n)\chi'\left((f(x_0),...,f(x_n)),(y_0,...,y_n)\right)d\nu_{n+1}\right|^2d\mu_{n+1} \\
&=\int_{G_R^{n+1}}|f^n\alpha(x_0,...,x_n)|^2d\mu_{n+1} = \|f^n\alpha\|^2_{R}
\end{align*}
It is a direct computation that $d^n\circ f^n=f^{n+1}\circ d^n$.
It remains to show that there is a cochain homotopy $h\colon{CX_{(2)}}^*(H)\to {CX_{(2)}}^{*-1}(H)$ such that ${\operatorname{Id}} -g^*f^*=hd+dh$. We define $h_i^{n+1}\colon{CX_{(2)}}^{n+1}(H)\to {CX_{(2)}}^{n}(H)$ by
\[h_i^{n+1}\alpha(y_0,...,y_n)=\int_{H^{n+1}}\alpha(\tilde{y}_0,...,\tilde{y}_i,y_i,...,y_n)\chi'((y_0,...,y_n),(\tilde{y}_0,...,\tilde{y}_n))d\nu_{n+1}(\tilde{y})\]
and set 
\[h^{n+1}=\sum_{i=0}^n(-1)^ih_i^{n+1}.\]
That $h^*$ is well-defined
 is a similar consideration as to show that $f^*$ and $g^*$ are well-defined. Now let us denote the i-th term of the coboundary map by $d^n_i$, i.e. $d^n_i\alpha(y_0,...,y_{n+1})=\alpha(y_0,...,\widehat{y_i},...,y_{n+1})$. It is straightforward to verify that we have the following relations:
\begin{align*}
h_{n}^{n+1}\circ d^{n}_{n+1}&= g^n\circ f^n, \\
h_0^{n+1}\circ d^n_{0} 		&= {\operatorname{Id}}_{{CX_{(2)}}^n(H)}, \\
h_j^{n+1}\circ d_i^n &= d^{n-1}_i\circ h_{j-1}^n &\text{    for } 1\leq j\leq n \text{ and } i\leq j,& \\
h_j^{n+1} \circ d_i^n & = d_{i-1}^{n-1}\circ h_j^n &\text{    for } 1\leq i \leq n \text{ and } i>j.&
\end{align*}
We get $h^{n+1}d^n+d^{n-1}h^n={\operatorname{Id}}_{{CX_{(2)}}^n(H)} - g^n\circ f^n$.  The same construction applies to $f^*g^*$ which completes the proof.
\end{proof}
\begin{proof}[Proof of Theorem~\ref{thm: main}]
Let $G$ and $H$ be unimodular lcsc groups. Let $G$ and $H$ be coarsely equivalent. Then we have the following equivalences:
\begin{align*}
\beta_{(2)}^2(G)=0&\Leftrightarrow\underline{H}^n(G,L^2(G))=0 &(\text{Lemma }\ref{lem: vanishing of reduced cohomology and l2 betti})\\
&\Leftrightarrow \underline{H}X_{(2)}^n(G)=0 &(\text{Theorem }\ref{iso of continuous and coarse coho}) \\
&\Leftrightarrow \underline{H}X_{(2)}^n(H)=0 &(\text{Theorem }\ref{qi invariance of HX})
\end{align*}
Going the same steps backwards for the group $H$ finishes the proof. 
\end{proof}

\begin{bibdiv}
\begin{biblist}

\bib{blanc}{article}{
    AUTHOR = {Blanc, Philippe},
     TITLE = {Sur la cohomologie continue des groupes localement compacts},
   JOURNAL = {Ann. Sci. \'Ecole Norm. Sup. (4)},
  FJOURNAL = {Annales Scientifiques de l'\'Ecole Normale Sup\'erieure.
              Quatri\`eme S\'erie},
    VOLUME = {12},
      YEAR = {1979},
    NUMBER = {2},
     PAGES = {137--168},
      ISSN = {0012-9593},
     CODEN = {ENAQAF},
   MRCLASS = {22E99 (57T10)},
  MRNUMBER = {543215},
MRREVIEWER = {W. T. van Est},
       URL = {http://www.numdam.org/item?id=ASENS_1979_4_12_2_137_0},
}

\bib{amhyp}{article}{
   author={Caprace, Pierre-Emmanuel},
   author={Cornulier, Yves},
   author={Monod, Nicolas},
   author={Tessera, Romain},
   title={Amenable hyperbolic groups},
   journal={J. Eur. Math. Soc. (JEMS)},
   volume={17},
   date={2015},
   number={11},
   pages={2903--2947},
}
		

\bib{cornulier-book}{book}{
   author={Cornulier, Yves},
   author={de la Harpe, Pierre},
   title={Metric Geometry of Locally Compact Groups},
   series={EMS Tracts in Mathematics Vol. 25},
   publisher={European Mathematical Society, Z\"urich},
   date={2016},
   pages={243},
}

\bib{davisetal}{article}{
   author={Davis, Michael W.},
   author={Dymara, Jan},
   author={Januszkiewicz, Tadeusz},
   author={Okun, Boris},
   title={Weighted $L^2$-cohomology of Coxeter groups},
   journal={Geom. Topol.},
   volume={11},
   date={2007},
   pages={47--138},
}
\bib{dymara}{article}{
   author={Dymara, Jan},
   title={Thin buildings},
   journal={Geom. Topol.},
   volume={10},
   date={2006},
   pages={667--694},
}

\bib{elek}{article} {
    AUTHOR = {Elek, G{\'a}bor},
     TITLE = {Coarse cohomology and {$l_p$}-cohomology},
   JOURNAL = {$K$-Theory},
  FJOURNAL = {$K$-Theory. An Interdisciplinary Journal for the Development,
              Application, and Influence of $K$-Theory in the Mathematical
              Sciences},
    VOLUME = {13},
      YEAR = {1998},
    NUMBER = {1},
     PAGES = {1--22},
      ISSN = {0920-3036},
     CODEN = {KTHEEO},
   MRCLASS = {58G12 (46L85)},
  MRNUMBER = {1610246},
MRREVIEWER = {Bachir Bekka},
       
       
}
\bib{fan}{article}{
author = {Fan, P.},
title = {Coarse $l_p$-geometric invariants},
Journal = {PhD thesis},
place = {Chicago}
year = {1994}
}

\bib{gaboriau}{article}{
   author={Gaboriau, Damien},
   title={Invariants $l^2$ de relations d'\'equivalence et de groupes},
   language={French},
   journal={Publ. Math. Inst. Hautes \'Etudes Sci.},
   number={95},
   date={2002},
   pages={93--150},
   
   
   
}
		

\bib{gaboriau-unimodular}{article}{
   author={Gaboriau, D.},
   title={Invariant percolation and harmonic Dirichlet functions},
   journal={Geom. Funct. Anal.},
   volume={15},
   date={2005},
   number={5},
   pages={1004--1051},
   issn={1016-443X},
}

\bib{genton}{article}{
    AUTHOR = {Genton, L.},
     TITLE = {Scaled Alexander-Spanier Cohomology and $L^{q,p}$ Cohomology for Metric Spaces},
   JOURNAL = {EPFL, Lausanne, ThÃ¨se no},
    VOLUME = {6330},
      YEAR = {2014},
    NUMBER = {},
     PAGES = {}
	note   = {https://infoscience.epfl.ch/record/201809/files/EPFL\_TH6330.pdf}
  

}

\bib{gromov}{article}{
   author={Gromov, M.},
   title={Asymptotic invariants of infinite groups},
   conference={
      title={Geometric group theory, Vol.\ 2},
      address={Sussex},
      date={1991},
   },
   book={
      series={London Math. Soc. Lecture Note Ser.},
      volume={182},
      publisher={Cambridge Univ. Press, Cambridge},
   },
   date={1993},
   pages={1--295},
   
}

\bib{petersen+kyed+vaes}{article}{
    AUTHOR = {Kyed, David},
    AUTHOR = {Petersen, Henrik Densing},
    AUTHOR = {Vaes, Stefaan},
     TITLE = {{$L^2$}-{B}etti numbers of locally compact groups and their
              cross section equivalence relations},
   JOURNAL = {Trans. Amer. Math. Soc.},
  FJOURNAL = {Transactions of the American Mathematical Society},
    VOLUME = {367},
      YEAR = {2015},
    NUMBER = {7},
     PAGES = {4917--4956},
}

\bib{li}{article}{
   author = {Li, Xin},
    title = {Dynamic characterizations of quasi-isometry, and applications to cohomology
},
  journal = {ArXiv e-prints},
archivePrefix = {arXiv},
   eprint = {1604.07375},
     year = {2016},
}

\bib{luck}{article}{
author = {LÃ¼ck, W.},
title = {Dimension theory for arbitrary modules over finite von Neumann algebras and $L^2$-Betti numbers},
journal = {J. Reine Angew. Math.},
volume = {495},
pages = {135--162},
year = {1998}
}
\bib{taka}{article}{
   author={Mimura, Masato},
   author={Ozawa, Narutaka},
   author={Sako, Hiroki},
   author={Suzuki, Yuhei},
   title={Group approximation in Cayley topology and coarse geometry, III:
   Geometric property (T)},
   journal={Algebr. Geom. Topol.},
   volume={15},
   date={2015},
   number={2},
   pages={1067--1091},
}
		
\bib{oguni}{article}{
author = {Oguni, S.},
title = {$L^2$-Invariants of discrete groups under coarse equivalence and $L^2$-invariants of cocompact etale groupoids},
journal = {preprint},
year = {2010},
note= {unpublished},
}

\bib{pansu}{article}{
author = {Pansu, P.},
title = {Cohomologie $L^p$: invariance sous quasiisom\'{e}tries},
journal = {preprint},
year = {1995},
note= {available under \texttt{https://www.math.u-psud.fr/~pansu/qi04.pdf}},
}

\bib{petersen}{article}{
   author = {{Densing Petersen}, H.},
    title = {$L^2$-Betti Numbers of Locally Compact Groups},
  journal = {ArXiv e-prints},
archivePrefix = {arXiv},
   eprint = {1104.3294},
 	 year = {2011},
    }
\bib{petersen+sauer+thom}{article}{
   author = {{Densing Petersen}, H.},
   author={Sauer, Roman},
   author={Thom, Andreas},
   title = {$L^2$-Betti numbers of totally disconnected groups and their approximation by Betti numbers of lattices},
  journal = {ArXiv e-prints},
archivePrefix = {arXiv},
   eprint = {1612.04559},
 	 year = {2016},
    }

 \bib{peterson+thom}{article}{
   author={Peterson, Jesse},
   author={Thom, Andreas},
   title={Group cocycles and the ring of affiliated operators},
   journal={Invent. Math.},
   volume={185},
   date={2011},
   number={3},
   pages={561--592},
   
   
   
}

\bib{roe}{article} {
    AUTHOR = {Roe, John},
     TITLE = {Coarse cohomology and index theory on complete Riemannian manifolds},
   JOURNAL = {Mem. Amer. Math. Soc},
  FJOURNAL = {Memoirs of the American Mathematical Society},
    VOLUME = {104},
      YEAR = {1993},
    NUMBER = {497},
     PAGES = {1--22},
      ISSN = {0065-9266},
    }
\bib{sauer-survey}{article}{
   author = {{Sauer}, R.},
    title = {$l^2$-Betti numbers of discrete and non-discrete groups},
  journal = {ArXiv e-prints},
archivePrefix = {arXiv},
   eprint = {1509.05234},
     year = {2015},
}

\bib{sauer-groupoids}{article}{
   author={Sauer, Roman},
   title={$L^2$-Betti numbers of discrete measured groupoids},
   journal={Internat. J. Algebra Comput.},
   volume={15},
   date={2005},
   number={5-6},
   pages={1169--1188},
}

\bib{sauer-homology}{article}{
   author={Sauer, R.},
   title={Homological invariants and quasi-isometry},
   journal={Geom. Funct. Anal.},
   volume={16},
   date={2006},
   number={2},
   pages={476--515},
   
   
   
}

\bib{struble}{article}{
   author={Struble, Raimond A.},
   title={Metrics in locally compact groups},
   journal={Compositio Math.},
   volume={28},
   date={1974},
   pages={217--222},
   
   
}

\end{biblist}
\end{bibdiv}
\end{document}

